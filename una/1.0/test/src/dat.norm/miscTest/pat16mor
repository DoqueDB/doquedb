視線
入力
精度
を
高め
、
しかも
、
裸眼
の
観察
者
と
眼鏡
を
装着
し
た
観察
者
の
何れ
に
対し
て
、
同等
の
視線
入力
を
可能
に
する
。
眼鏡
の
レンズ
情報
を
検出
する
眼鏡
レンズ
情報
検出
手段
１００
と
、
検出
さ
れ
た
眼鏡
レンズ
情報
を
記憶
する
記憶
手段
１００
ａ
と
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
受光
手段
１４
，
１０１
にて
得
られ
た
眼球
像
データ
と
記憶
手段
に
記憶
さ
れ
た
眼鏡
レンズ
情報
から
観察
者
の
視線
を
演算
する
視線
演算
手段
１００
を
備え
、
一度
眼鏡
レンズ
情報
（
眼鏡
レンズ
の
曲
率
半径
，
曲
率
中心
位置
）
を
検出
し
た
後
は
記憶
手段
に
記憶
し
ておき
、
必要
に
応じ
て
前記
記憶
手段
より
眼鏡
レンズ
情報
を
読出
し
、
該
眼鏡
レンズ
情報
と
受光
手段
にて
得
られ
た
眼球
像
データ
と
から
、
観察
者
の
視線
を
算出
する
よう
に
し
ている
。
観察
者
の
眼球
を
照明
する
照明
手段
と
、
観察
者
の
眼球
にて
反射
さ
れ
た
光
を
受光
する
受光
手段
と
、
観察
者
が
眼鏡
を
装着
し
ている
か否か
を
検知
する
眼鏡
検知
手段
と
、
眼鏡
の
レンズ
情報
を
検出
する
眼鏡
レンズ
情報
検出
手段
と
、
検出
さ
れ
た
眼鏡
レンズ
情報
を
記憶
する
記憶
手段
と
、
前記
眼鏡
検知
手段
にて
観察
者
が
眼鏡
を
装着
し
ている
こと
が
検知
さ
れ
ている
場合
は
、
前記
受光
手段
にて
得
られ
た
眼球
像
データ
と
前記
記憶
手段
に
記憶
さ
れ
た
眼鏡
レンズ
情報
から
観察
者
の
視線
を
演算
する
視線
演算
手段
と
を
備え
た
光学
装置
。
前記
眼鏡
レンズ
情報
は
、
眼鏡
レンズ
の
曲
率
半径
と
曲
率
中心
位置
の
うち
の
少なくとも
曲
率
半径
である
こと
を
特徴
と
する
請求
項
１
記載
の
光学
装置
。
設定
可能
な
、
観察
者
の
視線
により
情報
を
入力
する
視線
入力
モード
と
観察
者
の
視線
の
個人差
を
補正
する
為
の
視線
キャリブレーションデータ
を
取得
する
視線
キャリブレーションモード
の
うち
、
視線
キャリブレーションモード
時
に
、
前記
眼鏡
レンズ
情報
検出
手段
は
作動
する
手段
である
こと
を
特徴
と
する
請求
項
１
又は
２
記載
の
光学
装置
。
前記
照明
手段
は
、
裸眼
観察
者
用
の
少なくとも
２
個
の
光源
と
眼鏡
観察
者
用
の
少なくとも
２
個
の
光源
と
から
成り
、
眼鏡
レンズ
情報
検出
時
に
は
、
上記
の
各
光源
を
使用
する
こと
を
特徴
と
する
請求
項
１
，
２
又は
３
記載
の
光学
装置
。
前記
照明
手段
は
、
裸眼
観察
者
用
の
光源
を
３
個
以上
具備
し
ており
、
眼鏡
レンズ
情報
検出
時
に
は
、
該
３
個
以上
の
裸眼
観察
者
用
の
光源
を
使用
する
こと
を
特徴
と
する
請求
項
１
，
２
又は
３
記載
の
光学
装置
。
眼鏡
レンズ
情報
検出
時
に
は
、
この
際
に
用いる
照明
用
光源
の
照明
輝度
の
低減
と
照明
用
光源
と
同期
し
た
受光
手段
の
一部
である
イメージセンサ
の
蓄積
時間
の
短縮
の
少なく
と
も
一方
を
行う
こと
を
特徴
と
する
請求
項
４
又は
５
記載
の
光学
装置
。
前記
視線
演算
手段
は
、
観察
者
の
眼球
と
該
装置
と
の
相対
変位
が
所定
値
以上
の
場合
に
、
前記
記憶
手段
に
記憶
さ
れ
た
眼鏡
レンズ
情報
に
基づい
て
観察
者
の
視線
を
補正
演算
する
手段
である
こと
を
特徴
と
する
請求
項
１
記載
の
光学
装置
。
観察
者
の
眼球
を
照明
する
照明
手段
と
、
観察
者
の
眼球
にて
反射
さ
れ
た
光
を
受光
する
受光
手段
と
、
観察
者
が
眼鏡
を
装着
し
ている
か否か
を
検知
する
眼鏡
検知
手段
と
、
眼鏡
の
レンズ
情報
を
検出
する
眼鏡
レンズ
情報
検出
手段
と
、
前記
眼鏡
検知
手段
にて
観察
者
が
眼鏡
を
装着
し
ている
こと
が
検知
さ
れ
ている
場合
は
、
前記
受光
手段
にて
得
られ
た
眼球
像
データ
と
前記
眼鏡
レンズ
情報
検出
手段
にて
得
られ
た
眼鏡
レンズ
情報
から
観察
者
の
視線
を
検出
する
視線
検出
手段
と
を
備え
た
光学
装置
。
前記
眼鏡
レンズ
情報
は
、
眼鏡
レンズ
の
曲
率
半径
と
曲
率
中心
位置
の
うち
の
少なくとも
曲
率
半径
である
こと
を
特徴
と
する
請求
項
８
記載
の
光学
装置
。
前記
照明
手段
は
、
裸眼
観察
者
用
の
少なくとも
２
個
の
光源
と
眼鏡
観察
者
用
の
少なくとも
２
個
の
光源
と
から
成り
、
眼鏡
レンズ
情報
検出
時
に
は
、
上記
の
各
光源
を
使用
する
こと
を
特徴
と
する
請求
項
８
又は
９
記載
の
光学
装置
。
前記
照明
手段
は
、
裸眼
観察
者
用
の
光源
を
３
個
以上
具備
し
ており
、
眼鏡
レンズ
情報
検出
時
に
は
、
該
３
個
以上
の
裸眼
観察
者
用
の
光源
を
使用
する
こと
を
特徴
と
する
請求
項
８
又は
９
記載
の
光学
装置
。
眼鏡
レンズ
情報
検出
時
に
は
、
この
際
に
用いる
照明
用
光源
の
照明
輝度
の
低減
と
照明
用
光源
と
同期
し
た
受光
手段
の
一部
である
イメージセンサ
の
蓄積
時間
の
短縮
の
少なくとも
一方
を
行う
こと
を
特徴
と
する
請求
項
１０
又は
１１
記載
の
光学
装置
。
前記
視線
検出
手段
は
、
観察
者
の
眼球
と
該
装置
と
の
相対
変位
が
所定
値
以上
の
場合
に
、
前記
眼鏡
レンズ
情報
に
基づい
て
観察
者
の
視線
を
補正
演算
する
手段
である
こと
を
特徴
と
する
請求
項
８
記載
の
光学
装置
。
観察
者
の
眼球
を
照明
する
照明
手段
と
、
観察
者
の
眼球
にて
反射
さ
れ
た
光
を
受光
する
受光
手段
と
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
前記
眼鏡
の
レンズ
の
曲
率
半径
を
用い
て
、
前記
受光
手段
にて
得
られ
た
眼球
像
データ
の
歪
を
補正
し
て
視線
を
検出
する
視線
検出
手段
と
を
備え
た
光学
装置
。
上記
の
請求
項
１
，
８
又は
１４
記載
の
光学
装置
を
備え
た
こと
を
特徴
と
する
カメラ
。
本
発明
は
、
観察
者
の
視線
を
算出
する
手段
を
有し
た
光学
装置
や
該
装置
を
具備
し
た
カメラ
の
改良
に
関する
もの
である
。
従来
より
、
観察
者
が
観察
面上
の
どの
位置
を
観察
し
ている
か
を
検出
する
、
いわゆる
視線
を
検出
する
装置
（
例えば
アイカメラ
）
が
種々
提供
さ
れ
ている
。
本願
出願
人
は
、
特
開平
２
−
２６４６３２
号
公報
において
、
観察
者
の
眼球
に
赤
外光
を
照射
し
、
眼球
の
角膜
から
の
反射
光
による
角膜
反射
像
と
瞳孔
の
結像
位置
を
利用
し
て
観察
者
の
視線
を
求める
視線
検出
装置
を
開示
し
ている
。
図
１１
は
公知
の
視線
検出
方法
の
原理
説明
図
である
。
同
図
において
、
１３
ａ
，
１３
ｂ
は
各々
観察
者
に
対し
て
不
感
の
赤
外光
を
放射
する
発光
ダイオード
等
の
光源
であり
、
各々
の
光源
１３
ａ
，
１３
ｂ
は
受光
レンズ
１２
の
光
軸
に
対し
て
ｘ
方向
に
略
対象
に
配置
さ
れ
観察
者
の
眼球
１５
を
発散
照射
し
ている
。
同
図
において
明か
ではない
が
、
光源
１３
ａ
，
１３
ｂ
は
観察
者
の
眼球
１５
を
下方
（
ｙ
方向
に
オフセット
し
た
位置
）
から
照明
する
よう
に
配置
さ
れ
ている
。
眼球
１５
で
反射
し
た
照明
光
の
一部
は
受光
レンズ
１２
を
介し
て
イメージセンサ
１４
に
集光
する
。
１６
は
角膜
、
１７
は
虹彩
である
。
図
１２
（
Ａ
）
は
上記
イメージセンサ
１４
に
投影
さ
れる
眼球
像
の
概略
図
であり
、
図
１２
（
Ｂ
）
は
上記
イメージセンサ
１４
の
出力
ライン
から
の
信号
の
強度
分布
を
示す
図
である
。
以下
、
上記
の
各
図
を
用い
て
視線
の
検出
方法
について
説明
する
。
光源
１３
ａ
より
放射
さ
れ
た
赤
外光
は
観察
者
の
眼球
１５
の
角膜
１６
を
照射
する
。
この
とき
角膜
１６
の
表面
で
反射
し
た
赤
外光
の
一部
により
形成
さ
れる
角膜
反射
像
ｄ
（
虚像
）
は
受光
レンズ
１２
により
集光
さ
れ
、
イメージセンサ
１４
上
の
位置
ｄ´
に
結像
する
。
同様
に
光源
１３
ｂ
により
放射
さ
れ
た
赤
外光
は
、
眼球
１５
の
角膜
１６
を
照明
する
。
この
とき
、
角膜
１６
の
表面
で
反射
し
た
赤
外光
の
一部
により
形成
さ
れ
た
角膜
反射
像
ｅ
は
受光
レンズ
１２
により
集光
さ
れ
、
イメージセンサ
１４
上
の
位置
ｅ´
に
結像
する
。
又
、
虹彩
１７
の
端
部
ａ
，
ｂ
から
の
光束
は
、
受光
レンズ
１２
を
介し
て
イメージセンサ
１４
上
の
位置
ａ´
，
ｂ´
に
該
端
部
ａ
，
ｂ
の
像
を
結像
する
。
受光
レンズ
１２
の
光
軸
に
対する
眼球
１５
の
光
軸
の
回転角
θ
が
小さい
場合
、
虹彩
１７
の
端
部
ａ
，
ｂ
の
ｘ
座標
を
ｘａ
，
ｘｂ
と
する
と
、
瞳孔
１９
の
中心
位置
ｃ
の
座標
ｘｃ
は
、
ｘｃ
≒
（
ｘａ
＋
ｘｂ
）
／
２
と
表さ
れる
。
また
、
角膜
反射
像
ｄ
及び
ｅ
の
中点
の
ｘ
座標
と
角膜
１６
の
曲
率
中心
ｏ
の
ｘ
座標
ｘｏ
と
は
略
一致
する
。
この
ため
角膜
反射
像
の
発生
位置
ｄ
，
ｅ
の
ｘ
座標
を
ｘｄ
，
ｘｅ
、
角膜
１６
の
曲
率
中心
ｏ
と
瞳孔
１９
の
中心
ｃ
まで
の
標準
的
な
距離
を
ＬOC
と
する
と
、
眼球
１５
の
光
軸
１５
ａ
の
回転角
θ
ｘ
は
、
ＬOC
＊
ｓｉｎ
θ
ｘ
≒
（
ｘｄ
＋
ｘｅ
）
／
２
−
ｘｃ
…
…
…
…
（
１
）
の
関係式
を
略
満足
する
。
この
ため
、
図
１２
（
Ａ
）
に
示し
た
様
に
、
メージセンサ
１４
上
に
投影
さ
れ
た
眼球
１５
の
各
特徴
点
（
角膜
反射
像
及び
瞳孔
の
中心
）
の
位置
を
検出
する
こと
により
、
眼球
１５
の
光
軸
１５
ａ
の
回転角
θ
を
求める
こと
が
できる
。
眼球
１５
の
光
軸
１５
ａ
の
回転角
は
（
１
）
式
より
、
β
＊
ＬOC
＊
ｓｉｎ
θ
ｘ
≒
｛
（
ｘｐｏ
−
δ
ｘ
）
−
ｘｉｃ
｝
＊
ｐｉｔｃｈ
…
…
…
…
（
２
）
β
＊
ＬOC
＊
ｓｉｎ
θ
ｙ
≒
｛
（
ｙｐｏ
−
δ
ｙ
）
−
ｙｉｃ
｝
＊
ｐｉｔｃｈ
…
…
…
…
（
３
）
と
求め
られる
。
ここ
で
、
θ
ｘ
は
ｚ
ー
ｘ
平面
内
で
の
眼球
光
軸
の
回転角
、
θ
ｙ
は
ｙ
ー
ｚ
平面
内
で
の
眼球
光
軸
の
回転角
である
。
また
、
（
ｘｐｏ
，
ｙｐｏ
）
は
イメージセンサ
１４
上
の
２
個
の
角膜
反射
像
の
中点
の
座標
、
（
ｘｉｃ
，
ｙｉｃ
）
は
イメージセンサ
１４
上
の
瞳孔
中心
の
座標
である
。
ｐｉｔｃｈ
は
イメージセンサ
１４
の
画素
ピッチ
である
。
又
、
β
は
受光
レンズ
１２
に
対する
眼球
１５
の
位置
により
決る
結像
倍率
で
、
実質的
に
は
２
個
の
角膜
反射
像
の
間隔
の
関数
と
し
て
求め
られる
。
δ
ｘ
，
δ
ｙ
は
角膜
反射
像
の
中点
の
座標
を
補正
する
補正
項
であり
、
撮影
者
の
眼球
を
平行
光
ではなく
発散
光
にて
照明
し
ている
こと
に
より
生じる
誤差
を
補正
する
補正
項
、
及び
、
δ
ｙ
に
関し
て
は
、
撮影
者
の
眼球
を
下
まぶた
の
方
から
発散
光
にて
照明
し
ている
こと
に
より
生じる
オフセット
成分
を
補正
する
補正
項
も
含ま
れ
ている
。
該
補正
項
の
式
は
、
特
開平
２
−
２６４６３３
号
公報
に
開示
さ
れ
ている
。
観察
者
の
眼球
光
軸
１５
ａ
の
回転角
（
θ
ｘ
，
θ
ｙ
）
が
算出
さ
れる
と
、
観察
者
の
観察
面上
の
注視
点
（
ｘ
，
ｙ
）
は
、
例えば
、
ｘ
＝
ｍ
＊
｛
θ
ｘ
−
（
ｃｘ
＊
Ｒｐ
＋
ｄｘ
）
｝
／
（
ａｘ
＊
Ｒｐ
＋
ｂｘ
）
…
…
…
…
（
４
）
ｙ
＝
ｍ
＊
｛
θ
ｙ
−
（
ｃｙ
＊
Ｒｐ
＋
ｄｙ
）
｝
／
（
ａｙ
＊
Ｒｐ
＋
ｂｙ
）
…
…
…
…
（
５
）
と
求め
られる
。
ここ
で
、
ｘ
方向
は
観察
者
に
対し
て
水平
方向
、
ｙ
方向
は
観察
者
に
対し
て
垂直
方向
を
示し
ている
。
ｍ
は
眼球
１５
の
回転角
から
観察
面上
の
座標
に
変換
する
変換
係数
、
Ｒｐ
は
瞳孔
径
である
。
また
、
ａｘ
，
ｂｘ
，
ｃｘ
，
ｄｘ
，
ａｙ
，
ｂｙ
，
ｃｙ
，
ｄｙ
は
注視
点
キャリブレーション
係数
で
、
観察
者
の
眼球
１５
の
回転角
と
観察
面上
の
注視
点
を
一致
させる
ため
の
補正
係数
である
。
また
、
本願
出願
人
は
、
特
開平
４
−
１３８４３１
号
，
特
開平
４
−
１３８４３２
号
公報
において
、
観察
者
が
眼鏡
を
装着
し
ている
か否か
を
検知
可能
な
視線
検出
手段
を
有し
た
装置
を
開示
し
ている
。
該
提案
装置
の
実施
例
に
よれ
ば
、
観察
者
が
眼鏡
を
装着
し
ている
こと
を
検知
すた
場合
は
、
受光
光学
系
等
を
位置
調整
を
行っ
て
良好
な
視線
検出
を
達成
し
よう
と
し
ている
。
しかしながら
、
観察
者
が
眼鏡
を
装着
し
ている
と
イメージセンサ
上
に
生成
さ
れる
角膜
反射
像
及び
虹彩
像
の
位置
が
眼鏡
レンズ
の
屈折
作用
によって
ずれ
て
しまう
（
像
歪み
）
場合
が
あり
、
この
よう
な
場合
に
は
従来
の
視線
演算
方法
では
精度
の
高い
視線
検出
が
でき
ない
と
いう
問題点
が
あっ
た
。
また
、
特
開平
５
−
１００１４７
号
公報
において
、
観察
者
が
眼鏡
を
装着
し
ている
こと
を
検知
する
こと
により
、
視線
検出
結果
を
補正
、
又は
、
無効
化
する
補正
手段
を
含む
視線
検出
装置
を
有する
カメラ
が
開示
さ
れ
ている
が
、
該
補正
手段
は
眼鏡
を
装着
し
た
観察
者
に
対し
て
カメラ
の
機能
を
制限
（
画面
中央
の
領域
に
限定
し
たり
、
無効
に
する
こと
で
）
し
て
制御
し
よう
と
する
もの
で
、
該
観察
者
は
カメラ
の
使用
に
際し
カメラ
の
機能
を
十分
に
使え
ず
不
都合
を
感じる
と
いう
問題点
が
あっ
た
。
（
発明
の
目的
）
本
発明
の
目的
は
、
高
精度
であり
、
しかも
、
裸眼
の
観察
者
と
眼鏡
を
装着
し
た
観察
者
の
何れ
に
対し
て
、
同等
の
視線
入力
を
可能
と
する
光学
装置
及び
カメラ
を
提供
する
こと
である
。
上記
の
目的
を
達成
する
ため
に
、
請求
項
１
又は
１５
記載
の
本
発明
は
、
眼鏡
の
レンズ
情報
を
検出
する
眼鏡
レンズ
情報
検出
手段
と
、
検出
さ
れ
た
眼鏡
レンズ
情報
を
記憶
する
記憶
手段
と
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
受光
手段
にて
得
られ
た
眼球
像
データ
と
前記
記憶
手段
に
記憶
さ
れ
た
眼鏡
レンズ
情報
から
観察
者
の
視線
を
演算
する
視線
演算
手段
と
を
備え
、
一度
眼鏡
レンズ
情報
を
検出
し
た
後
は
記憶
手段
に
記憶
し
ておき
、
必要
に
応じ
て
前記
記憶
手段
より
眼鏡
レンズ
情報
を
読出
し
、
該
眼鏡
レンズ
情報
と
受光
手段
にて
得
られ
た
眼球
像
データ
と
から
、
観察
者
の
視線
を
算出
する
よう
に
し
ている
。
また
、
請求
項
８
又は
１５
記載
の
本
発明
は
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
眼鏡
の
レンズ
情報
を
検出
する
眼鏡
レンズ
情報
検出
手段
と
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
受光
手段
にて
得
られ
た
眼球
像
データ
と
前記
眼鏡
レンズ
情
報
検出
手段
にて
得
られ
た
眼鏡
レンズ
情報
から
観察
者
の
視線
を
検出
する
視線
検出
手段
と
を
備え
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
毎回
眼鏡
レンズ
情報
を
検出
し
、
検出
し
た
眼鏡
レンズ
情報
と
受光
手段
にて
得
られ
た
眼球
像
データ
と
から
、
観察
者
の
視線
を
検出
する
よう
に
し
ている
。
また
、
請求
項
１４
又は
１５
記載
の
本
発明
は
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
眼鏡
の
レンズ
の
曲
率
半径
を
用い
て
、
受光
手段
にて
得
られ
た
眼球
像
データ
の
歪
を
補正
し
て
視線
を
検出
する
視線
検出
手段
と
を
備え
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
受光
手段
にて
得
られ
た
眼球
像
データ
を
、
眼鏡
レンズ
の
曲
率
半径
により
補正
する
よう
に
し
ている
。
以下
、
本
発明
を
図示
の
実施
例
に
基づい
て
詳細
に
説明
する
。
図
１
は
本
発明
を
一眼
レフカメラ
に
適用
し
た
とき
の
一
実施
例
を
示す
要
部
概略
図
であり
、
図
２
（
Ａ
）
，
（
Ｂ
）
は
同じく
その
上面
と
後
面
の
概略
図
、
図
３
は
図
１
の
ファインダ
視野
内
の
説明
図
である
。
これら
の
図
において
、
１
は
撮影
レンズ
で
、
便宜上
２
枚
の
レンズ
で
示し
た
が
、
実際
は
さらに
多数
の
レンズ
から
構成
さ
れ
ている
。
２
は
主
ミラー
で
、
ファインダ
系
による
被写体
像
の
観察
状態
と
被写体
像
の
撮影
状態
に
応じ
て
撮影
光
路
へ
斜設
さ
れ
、
或は
、
退去
さ
れる
。
３
は
サブミラー
で
、
主
ミラー
２
を
透過
し
た
光束
を
カメラボディ
の
下方
の
後述
する
焦点
検出
装置
６
へ
向け
て
反射
する
。
４
は
シャッタ
、
５
は
感光
部材
で
、
銀
塩
フィルム
、
或は
、
ＣＣＤ
や
ＭＯＳ
型
等
の
固体
撮像
素子
、
或は
、
ビディコン
等
の
撮像
管
である
。
６
は
焦点
検出
装置
であり
、
結像
面
近傍
に
配置
さ
れ
た
フィールドレンズ
６
ａ
，
反射
ミラー
６
ｂ
及び
６
ｃ
，
二次
結像
レンズ
６
ｄ
，
絞り
６
ｅ
、
複数
の
ＣＣＤ
から
成る
ラインセンサ
６
ｆ
等
から
構成
さ
れ
ている
。
本
実施
例
における
焦点
検出
装置
６
は
、
周知
の
位相
差
方式
にて
焦点
検出
を
行う
もの
であり
、
図
３
に
示す
よう
に
、
観察
画面
内
（
ファインダ
視野
内
）
２１３
の
複数
の
領域
（
５
箇所
の
測距
点
マーク
２００
〜
２０４
）
を
焦点
検出
可能
と
なる
よう
に
構成
さ
れ
ている
。
７
は
撮影
レンズ
１
の
予定
結像
面
に
配置
さ
れ
た
ピント
板
、
８
は
正
立像
形成
光学
部材
である
ところ
の
ペンタプリズム
である
。
９
，
１０
は
各々
観察
画面
内
の
被写体
輝度
を
測定
する
ため
の
結像
レンズ
と
測
光
センサ
であり
、
結像
レンズ
９
は
ペンタプリズム
８
内
の
反射
光
路
を
介し
て
ピント
板
７
と
測光
センサ
１０
を
共役
に
関係
付け
ている
。
次
に
、
ペンタプリズム
８
の
射出
後方
に
は
光
分割
器
１１
ａ
を
備え
た
接眼
レンズ
１１
が
配置
さ
れ
、
撮影
者
の
眼
１５
による
ピント
板
７
の
観察
に
使用
さ
れる
。
光
分割
器
１１
ａ
は
、
例えば
可視
光
を
透過
し
赤
外光
を
反射
する
ダイクロイックミラー
より
成っ
ている
。
１２
は
受光
レンズ
、
１４
は
ＣＣＤ
等
の
光電
変換
素子
列
を
二
次元
的
に
配し
た
イメージセンサ
（
ＣＣＤ
と
も
記す
）
で
、
受光
レンズ
１２
に
関し
て
所定
の
位置
に
ある
撮影
者
の
眼球
１５
の
瞳孔
近傍
と
共役
に
なる
よう
に
配置
さ
れ
ている
。
１３
ａ
〜
１３
ｈ
は
各々
撮影
者
の
眼球
１５
の
照明
光源
である
ところ
の
赤
外
発光
ダイオード
（
ＩＲＥＤ
と
記す
）
で
、
図
２
（
Ｂ
）
に
示す
よう
に
接眼
レンズ
１１
の
回り
に
配置
さ
れ
ている
。
ここ
で
、
ＩＲＥＤ
１３
ａ
，
１３
ｂ
，
１３
ｅ
，
１３
ｆ
は
裸眼
の
撮影
者
照明
用
であり
、
ゴースト
の
出
ない
位置
に
設け
られる
ＩＲＥＤ
１３
ｃ
，
１３
ｄ
，
１３
ｇ
，
１３
ｈ
は
眼鏡
を
装着
し
ている
撮影
者
照明
用
である
。
２１
は
明るい
被写体
の
中
でも
視認
できる
高
輝度
の
スーパーインポーズ
用
ＬＥＤ
で
、
ここ
から
発光
さ
れ
た
光
は
投光
用
プリズム
２２
を
介し
、
主
ミラー
２
で
反射
さ
れ
て
ピント
板
７
の
表示
部
に
設け
た
微
小
プリズムアレイ
７
ａ
で
垂直
方向
に
曲げ
られ
、
ペンタプリズム
８
，
接眼
レンズ
１１
を
通っ
て
撮影
者
の
眼球
１５
に
達する
。
そこで
、
ピント
板
７
の
焦点
検出
領域
に
対応
する
複数
の
位置
に
この
微小
プリズムアレイ
７
ａ
を
枠
状
に
形成
し
、
これ
を
各々
に
対応
し
た
５
つ
の
スーパーインポーズ
用
ＬＥＤ
２１
（
各々
を
ＬＥＤ
−
Ｌ
１
，
ＬＥＤ
−
Ｌ
２
，
ＬＥＤ
−
Ｃ
，
ＬＥＤ
−
Ｒ
１
，
ＬＥＤ
−
Ｒ
２
と
する
）
によって
照明
する
。
これ
によって
図
３
に
示し
た
ファインダ
視野
から
判
かる
よう
に
、
各々
の
測距
点
マーク
２００
，
２０１
，
２０２
，
２０３
，
２０４
が
ファインダ
視野
内
で
光り
、
焦点
検出
領域
（
測距
点
）
を
表示
させる
こと
が
できる
もの
である
（
以下
、
これ
を
スーパーインポーズ
表示
と
いう
）
。
２３
は
ファインダ
視野
領域
を
形成
する
視野
マスク
、
２４
は
ファインダ
視
野外
に
撮影
情報
を
表示
する
ため
の
ファインダ
内
ＬＣＤ
で
、
照明
用
ＬＥＤ
（
Ｆ
−
ＬＥＤ
）
２５
によって
照明
さ
れる
。
この
ファインダ
内
ＬＣＤ
２４
を
透過
し
た
光
は
三角
プリズム
２６
によって
ファインダ
視野
内
に
導か
れ
、
図
３
の
２０７
で
示し
た
よう
に
ファインダ
視
野外
に
表示
さ
れ
、
撮影
者
は
撮影
情報
を
知る
こと
が
できる
。
２７
は
カメラ
の
姿勢
を
検知
する
水銀
スイッチ
である
。
３１
は
撮影
レンズ
１
内
に
設け
た
絞り
、
３２
は
後述
する
絞り
駆動
回路
１１１
を
含む
絞り
駆動
装置
、
３３
は
レンズ
駆動
用
モータ
、
３４
は
駆動
ギヤ
等
から
成る
レンズ
駆動
部材
である
。
３５
は
フォトカプラ
で
、
前記
レンズ
駆動
部材
３４
に
連動
する
パルス
板
３６
の
回転
を
検知
し
て
レンズ
焦点
調節
回路
１１０
に
伝え
ている
。
焦点
調節
回路
１１０
は
、
この
情報
と
カメラ
側
から
の
レンズ
駆動
量
の
情報
に
基づい
て
前記
レンズ
駆動
用
モータ
３３
を
所定
量
駆動
させ
、
撮影
レンズ
１
を
合焦
位置
に
移動
させる
よう
に
なっ
ている
。
３７
は
公知
の
カメラ
と
レンズ
と
の
インターフェイス
と
なる
マウント
接点
である
。
図
２
において
、
４１
は
レリーズ
釦
、
４２
は
外部
モニタ
表示
装置
と
し
て
の
モニタ
用
ＬＣＤ
で
、
予め
決め
られ
た
パターン
を
表示
する
固定
セグメント
表示
部
４２
ａ
と
、
可変
数値
表示
用
の
７
セグメント
表示
部
４２
ｂ
と
から
成っ
ている
。
４４
は
モードダイヤル
で
、
撮影
モード
等
の
選択
を
行う
ため
の
もの
である
。
５５
は
指標
である
。
他の
操作
部材
について
は
本
発明
と
は
直接
関係ない
ので
、
その
説明
は
省略
する
。
図
４
は
、
上記
図
２
に
示し
た
モードダイヤル
４４
の
詳細
を
示す
図
であり
、
該
モードダイヤル
４４
は
カメラ
本体
に
刻印
さ
れ
た
指標
５５
に
表示
を
合せる
こと
によって
、
その
表示
内容
で
撮影
モード
が
設定
さ
れる
。
図
４
において
、
４４
ａ
は
カメラ
を
不
作動
と
する
ロックポジション
、
４４
ｂ
は
カメラ
が
予め
設定
し
た
撮影
プログラム
によって
制御
さ
れる
自動
撮影
モード
の
ポジション
、
４４
ｃ
は
撮影
者
が
撮影
内容
を
設定
できる
マニュアル
撮影
モード
で
、
プログラム
ＡＥ
，
シャッタ
優先
ＡＥ
，
絞り
優先
ＡＥ
，
被写体
深度
優先
ＡＥ
，
マニュアル
露出
の
各
撮影
モード
を
もっ
ている
。
４４
ｄ
は
後述
する
視線
の
キャリブレーション
を
行う
キャリブレーションモード
と
なる
「
ＣＡＬ
」
ポジション
である
。
再び
図
２
に
戻っ
て
、
４５
は
電子
ダイヤル
で
、
回転
し
て
クリックパルス
を
発生
させる
こと
によって
モードダイヤル
４４
で
選択
さ
れ
た
モード
の
中
で
さらに
選択
し
得る
設定
値
を
設定
する
ため
の
もの
である
。
図
５
は
上記
構成
の
一眼
レフカメラ
に
内蔵
さ
れ
た
電気
的
構成
を
示す
ブロック
図
であり
、
図
１
と
同じ
部分
は
同一
符号
を
付し
て
ある
。
カメラ
本体
に
内蔵
さ
れ
た
マイクロコンピュータ
の
中央
処理
装置
（
以下
、
ＣＰＵ
と
記す
）
１００
に
は
、
ＣＣＤ
読
出し
回路
１０１
，
測光
回路
１０２
，
自動
焦点
検出
回路
１０３
，
信号
入力
回路
１０４
，
ＬＣＤ
駆動
回路
１０５
，
ＬＥＤ
駆動
回路
１０６
，
ＩＲＥＤ
駆動
回路
１０７
，
シャッタ
制御
回路
１０８
，
モータ
制御
回路
１０９
が
接続
さ
れ
ている
。
また
、
撮影
レンズ
１
内
に
配置
さ
れ
た
焦点
調節
回路
１１０
，
絞り
駆動
回路
１１１
と
は
、
図
１
で
示し
た
マウント
接点
３７
を
介し
て
信号
の
伝達
が
なされる
。
ＣＰＵ
１００
に
付随
し
た
記憶
手段
と
し
て
の
ＥＥＰＲＯＭ
１００
ａ
は
、
視線
検
出
系
を
構成
する
電気
部品
である
ところ
の
ＣＣＤ
及び
ＩＲＥＤ
の
位置
を
記憶
可能
である
。
ＣＣＤ
読
出し
回路
１０１
は
、
イメージセンサ
１４
（
ＣＣＤ
−
ＥＹＥ
）
から
の
眼球
像
の
出力
を
Ａ
／
Ｄ
変換
し
、
この
像
情報
を
ＣＰＵ
１００
に
送信
する
。
ＣＣＤ
読
出し
回路
１０１
と
イメージセンサ
１４
は
受光
レンズ
１２
等
の
光学
部材
と
併せて
受光
手段
を
構成
し
ている
。
ＣＰＵ
１００
は
後述
する
よう
に
視線
検出
に
必要
な
眼球
像
の
各
特徴
点
を
所定
の
アルゴリズム
に
従っ
て
抽出
し
、
さらに
各
特徴
点
の
位置
から
撮影
者
の
眼球
の
回転角
を
算出
する
。
測光
回路
１０２
は
、
測光
センサ
１０
から
の
出力
を
増幅
後
、
対数
圧縮
，
Ａ
／
Ｄ
変換
し
、
各
センサ
の
輝度
情報
と
し
て
ＣＰＵ
１００
に
送ら
れる
。
測光
センサ
１０
は
図
３
に
示し
た
ファインダ
画面
内
の
左側
測距
点
２００
，
２０１
を
含む
左
領域
２１０
を
測光
する
ＳＰＣ
−
Ｌ
と
、
中央
の
測距
点
２０２
を
含む
中央
領域
２１１
を
測光
する
ＳＰＣ
−
Ｃ
と
、
右側
の
測距
点
２０３
，
２０４
を
含む
右側
領域
２１２
を
測光
する
ＳＰＣ
−
Ｒ
と
、
これら
の
周辺
領域
２１３
を
測光
する
ＳＰＣ
−
Ａ
と
の
４
つ
の
フォトダイオード
から
構成
さ
れ
ている
。
ラインセンサ
６
ｆ
は
、
前述
の
よう
に
画面
内
の
５
つ
の
測距
点
２００
〜
２０４
に
対応
し
た
５
組
の
ラインセンサ
ＣＣＤ
−
Ｌ
２
，
ＣＣＤ
−
Ｌ
１
，
ＣＣＤ
−
Ｃ
，
ＣＣＤ
−
Ｒ
１
，
ＣＣＤ
−
Ｒ
２
から
構成
さ
れる
公知
の
ＣＣＤ
ラインセンサ
である
。
自動
焦点
検出
回路
１０３
は
、
これ
ら
ラインセンサ
６
ｆ
から
得
た
電圧
を
Ａ
／
Ｄ
変換
し
、
ＣＰＵ
１００
に
送る
。
ＳＷ
１
は
レリーズ
釦
４１
の
第
１
ストローク
で
ＯＮ
し
、
測光
，
ＡＦ
，
視線
検出
動作
を
開始
する
スイッチ
、
ＳＷ
２
は
レリーズ
釦
の
第
２
ストローク
で
ＯＮ
する
レリーズスイッチ
、
ＳＷ
−
ＡＮＧ
１
，
ＳＷ
−
ＡＮＧ
２
は
水銀
スイッチ
２７
及び
不
図示
の
水銀
スイッチ
によって
検知
さ
れる
ところ
の
姿勢
検知
スイッチ
、
ＳＷ
−
ＤＩＡＬ
１
と
ＳＷ
−
ＤＩＡＬ
２
は
電子
ダイヤル
４５
内
に
設け
た
ダイヤルスイッチ
で
、
信号
入力
回路
１０４
の
アップダウンカウンタ
に
入力
さ
れ
、
電子
ダイヤル
４５
の
回転
クリック
量
を
カウント
する
。
ＳＷ
−
Ｍ
１
〜
Ｍ
４
は
モードダイヤル
内
に
設け
た
ダイヤルスイッチ
である
。
これら
の
スイッチ
の
信号
が
信号
入力
回路
１０４
に
入力
さ
れ
、
データバス
によって
ＣＰＵ
１００
に
送信
さ
れる
。
液晶
表示
素子
ＬＣＤ
を
表示
駆動
させる
ため
の
公知
の
ＬＣＤ
駆動
回路
１０５
は
、
ＣＰＵ
１００
から
の
信号
に
従っ
て
絞り
値
，
シャッタ
秒
時
，
設定
し
た
撮影
モード
等
の
表示
を
モニタ
用
ＬＣＤ
４２
と
ファインダ
内
ＬＣＤ
２４
の
両方
に
同時
に
表
示さ
せ
ている
。
ＬＥＤ
駆動
回路
１０６
は
、
照明
用
ＬＥＤ
（
Ｆ
−
ＬＥＤ
）
２２
と
スーパーインポーズ
用
ＬＥＤ
２１
を
点灯
・
点滅
制御
する
。
ＩＲＥＤ
駆動
回路
１０７
は
、
赤
外
発光
ダイオード
（
ＩＲＥＤ
１
〜
８
）
１３
ａ
〜
１３
ｈ
を
状況
に
応じ
て
選択
的
に
点灯
させる
。
シャッタ
制御
回路
１０８
は
、
通電
する
先
幕
を
走行
させる
マグネット
ＭＧ
−
１
と
後
幕
を
走行
させる
マグネット
ＭＧ
−
２
を
制御
し
、
感光
部材
に
所定
光
量
を
露光
させる
。
モータ
制御
回路
１０９
は
、
フィルム
の
巻
上げ
，
巻
戻し
を
行う
モータ
Ｍ
１
と
主
ミラ
及び
シャッタ
４
の
チャージ
を
行う
モータ
Ｍ
２
を
制御
し
ている
。
上記
の
シャッタ
制御
回路
１０８
、
モータ
制御
回路
１０９
によって
一連の
カメラ
の
レリーズシーケンス
が
動作
する
。
次
に
、
眼鏡
レンズ
情報
検出
手段
を
有し
た
カメラ
の
動作
について
、
図
６
の
フローチャート
に
したがっ
て
説明
する
。
モードダイヤル
４４
を
回転
させ
て
カメラ
を
不
作動
状態
（
ロック
状態
）
から
所定
の
撮影
モード
に
設定
する
と
、
カメラ
の
電源
が
ＯＮ
さ
れる
（
ステップ
１００
）
。
すると
、
ＣＰＵ
１００
は
信号
入力
回路
１０４
を
介し
て
モードダイヤル
４４
が
どの
モード
に
設定
さ
れ
ている
か
を
確認
する
（
ステップ
１０１
）
。
この
結果
、
モードダイヤル
４４
が
視線
キャリブレーション
（
ＣＬＡ
）
モード
に
設定
さ
れ
ていれ
ば
（
ステップ
１０２
）
、
注視
点
の
キャリブレーション
を
実行
する
（
ステップ
１２８
）
。
この
注視
点
の
キャリブレーション
について
は
後述
する
。
そして
、
注視
点
の
キャリブレーション
が
終了
する
と
、
カメラ
は
レリーズ
釦
４１
が
押
込ま
れ
て
スイッチ
ＳＷ
１
が
ＯＮ
さ
れる
まで
待機
する
（
ステップ
１０４
）
。
また
、
上記
モードダイヤル
４４
が
視線
キャリブレーションモード
に
設定
さ
れ
て
おら
ず
（
ステップ
１０２
）
、
かつ
、
電源
ロックモード
に
設定
さ
れ
ていれ
ば
（
ステップ
１０３
）
、
カメラ
の
電源
は
ＯＦＦ
さ
れる
（
ステップ
１２９
）
。
一方
、
モードダイヤル
４４
が
通常
の
撮影
モード
に
設定
さ
れ
ていれ
ば
、
レリーズ
釦
４１
が
押
込ま
れ
て
スイッチ
ＳＷ
１
が
ＯＮ
さ
れる
まで
待機
する
（
ステップ
１０４
）
。
レリーズ
釦
４１
が
押込
まれ
スイッチ
ＳＷ
１
が
ＯＮ
さ
れ
た
こと
を
信号
入力
回路
１０４
を
介し
て
検知
する
と
、
ＣＰＵ
１００
は
姿勢
検知
手段
によって
カメラ
の
姿勢
が
どの
状態
に
なっ
ている
か
を
検知
する
（
ステップ
１０５
）
。
なお
、
上記
の
姿勢
検知
手段
は
、
ＣＰＵ
１００
，
信号
入力
回路
１０４
，
姿勢
検知
スイッチ
ＳＷ
−
ＡＮＧ
１
，
ＳＷ
−
ＡＮＧ
２
から
構成
さ
れ
、
ＣＰＵ
１００
は
信号
入力
回路
１０４
を
介し
て
送信
さ
れ
てくる
姿
勢検
知
スイッチ
ＳＷ
−
ＡＮＧ
１
，
ＳＷ
−
ＡＮＧ
２
の
信号
を
分析
し
て
カメラ
の
姿勢
が
横
位置
か
、
あるいは
縦
位置
か
判断
する
。
次
に
ＣＰＵ
１００
は
視線
検出
を
行う
際
に
複数
ある
キャリブレーションデータ
の
中
の
どの
キャリブレーションデータ
を
使用
する
か
を
示し
た
キャリブレーションデータナンバー
を
ＥＥＰＲＯＭ
１００
ａ
にて
確認
する
。
この
時
、
確認
し
た
キャリブレーションデータナンバー
が
視線
入力
禁止
モード
に
設定
さ
れ
てい
たら
（
ステップ
１０６
）
、
視線
検出
動作
は
行わ
ず
に
直ちに
各
測距
点
に
対する
焦点
検出
を
実行
する
（
ステップ
１１５
）
。
一方
、
前記
キャリブレーションデータナンバー
が
視線
入力
モード
に
対応
し
た
値
に
設定
さ
れ
ている
と
（
ステップ
１０６
）
、
該
キャリブレーションデータナンバー
に
対応
し
た
キャリブレーションデータ
を
ＥＥＰＲＯＭ
１００
ａ
の
所定
の
アドレス
上
から
読み
出す
（
ステップ
１０７
）
。
キャリブレーションデータ
の
中
に
は
撮影
者
が
眼鏡
を
装着
し
ている
か否か
の
情報
も
含ま
れ
ており
、
該
キャリブレーションデータ
より
撮影
者
が
眼鏡
を
装着
し
てい
ない
と
判定
する
と
（
ステップ
１０８
）
、
視線
検出
を
実行
する
ため
に
裸眼
撮影
者
用
の
照明
を
設定
する
（
ステップ
１１０
）
。
例えば
、
カメラ
の
姿勢
が
水平
状態
（
横
位置
状態
）
で
あれ
ば
、
ＩＲＥＤ
駆動
回路
１０７
を
介し
て
ＩＲＥＤ
１３
ａ
，
１３
ｂ
を
選択
し
て
点灯
させる
。
また
、
キャリブレーションデータ
より
撮影
者
が
眼鏡
を
装着
し
ている
と
判定
する
と
（
ステップ
１０８
）
、
ＣＰＵ
１００
は
前記
キャリブレーションデータナンバー
に
対応
し
た
ＥＥＰＲＯＭ
１００
ａ
の
所定
の
アドレス
上
に
記憶
さ
れ
た
、
撮影
者
が
装着
し
ている
眼鏡
の
レンズ
情報
を
読み
出す
（
ステップ
１０９
）
。
ここ
で
いう
眼鏡
の
レンズ
情報
と
は
、
眼鏡
レンズ
の
曲
率
半径
である
。
なお
、
この
情報
は
後述
の
キャリブレーション
動作
によって
、
予め
ＥＥＰＲＯＭ
１００
ａ
内
に
記憶
さ
れ
ている
。
眼鏡
レンズ
情報
を
読み
出す
と
、
視線
検出
を
実行
する
ため
に
裸眼
撮影
者
用
の
照明
を
設定
する
（
ステップ
１１０
）
。
例えば
、
カメラ
の
姿勢
が
水平
状態
であれ
ば
、
前述
し
た
様
に
、
ＩＲＥＤ
駆動
回路
１０７
を
介し
て
ＩＲＥＤ
１３
ｃ
，
１３
ｂ
を
選択
し
て
点灯
させる
。
撮影
者
の
眼球
１５
へ
の
照明
を
設定
する
と
（
ステップ
１１０
）
、
ＣＰＵ
１００
は
視線
検出
を
実行
する
（
ステップ
１１１
）
。
ここ
で
、
上記
ステップ
１１１
における
視線
検出
動作
について
、
図
７
の
フローチャート
により
説明
する
。
撮影
者
の
眼球
１５
が
照明
手段
により
照明
さ
れる
と
、
眼球
１５
で
反射
し
た
赤
外光
の
一部
は
、
受光
手段
である
受光
光学
系
を
介し
て
イメージセンサ
１４
上
に
集光
する
。
この
イメージセンサ
１４
から
の
画像
出力
は
ＣＣＤ
読
出し
回路
１０１
において
Ａ
／
Ｄ
変換
さ
れ
、
視線
演算
手段
である
ＣＰＵ
１００
にて
画像
解析
さ
れる
。
ＣＰＵ
１００
は
眼球
１５
の
特徴
点
である
角膜
反射
像
と
瞳孔
の
中心
位置
と
を
検出
する
と
、
前記
（
２
）
，
（
３
）
式
に
基づい
て
撮影
者
の
視線
〔
（
θ
ｘ
，
θ
ｙ
）
：
眼球
の
回転角
〕
を
算出
する
（
ステップ
２００
）
。
この
とき
、
撮影
者
が
眼鏡
を
装着
し
てい
なけれ
ば
（
ステップ
２０１
）
、
メイン
の
フロー
に
復帰
する
（
ステップ
２０４
）
。
一方
、
撮影
者
が
眼鏡
を
装着
し
ていれ
ば
（
ステップ
２０１
）
、
ＣＰＵ
１００
は
画像
解析
し
た
撮影
者
の
眼球
１５
の
特徴
点
の
位置
から
、
撮影
者
の
眼球
１５
の
カメラ
の
基準
位置
、
例えば
接眼
レンズ
１１
の
射出
面
（
撮影
者
側
の
面
）
の
中心
位置
から
の
相対
変位
量
を
算出
する
。
撮影
者
の
眼球
１５
の
角膜
１６
の
曲
率
中心
ｏ
の
ファインダ
光
軸
から
の
変位
を
（
ｓｘ
，
ｓｙ
）
と
する
と
、
ｓｘ
＝
｛
（
ｘｐｏ
−
δ
ｘ
−
ｘｓ
）
＊
ｐｉｔｃｈ
｝
／
β
…
（
６
）
ｓｙ
＝
｛
（
ｙｐｏ
−
δ
ｙ
−
ｙｓ
）
＊
ｐｉｔｃｈ
｝
／
β
…
（
７
）
と
なる
。
ここ
で
、
（
ｘｓ
，
ｙｓ
）
は
イメージセンサ
１４
の
中心
画素
（
受光
光学
系
の
光
軸
上
の
画素
）
で
ある
。
撮影
者
の
眼球
１５
の
角膜
１６
の
曲
率
中心
ｏ
の
ファインダ
光
軸
から
の
変位
量
〔
＝
ｓｑｒ
（
ｓｘ＾
２
＋
ｓｙ＾
２
）
〕
が
所定
値
、
例えば
4
.
0
より
小さけれ
ば
（
ステップ
２０２
）
、
眼鏡
レンズ
による
屈折
作用
の
撮影
は
小さい
ため
視線
の
補正
を
行わ
ず
に
メイン
の
ルーチン
に
復帰
する
（
ステップ
２０４
）
。
また
、
撮影
者
の
眼球
１５
の
角膜
１６
の
曲
率
中心
ｏ
の
ファインダ
光
軸
から
の
変位
量
〔
＝
ｓｑｒ
（
ｓｘ＾
２
＋
ｓｙ＾
２
）
〕
が
所定
値
、
例えば
4
.
0
以上
であれ
ば
（
ステップ
２０２
）
、
先
に
記憶
手段
である
ＥＥＰＲＯＭ
１００
ａ
より
読み
出し
た
眼鏡
レンズ
情報
から
角膜
反射
像
の
位置
と
イメージセンサ
１４
の
中心
画素
（
ｘｓ
，
ｙｓ
）
の
値
を
補正
し
た
後
、
前記
（
２
）
，
（
３
）
式
に
基づい
て
撮影
者
の
視線
（
θ
ｘ
，
θ
ｙ
）
を
算出
する
（
ステップ
２０３
）
。
撮影
者
の
視線
を
補正
し
て
算出
する
と
（
ステップ
２０３
）
、
メイン
の
ルーチン
に
復帰
し
カメラ
の
シーケンス
を
続行
する
（
ステップ
２０４
）
。
図
８
は
眼鏡
レンズ
の
屈折
作用
について
説明
する
為
の
図
であり
、
以下
同
図
を
用い
て
角膜
反射
像
の
位置
の
補正
方法
を
説明
する
。
同
図
において
、
撮影
者
の
眼球
１５
は
不
図示
の
ファインダ
系
光
軸
（
図
中
の
ｚ
軸
と
一致
）
に
対し
て
−
ｘ
方向
に
変位
し
ており
、
また
撮影
者
の
眼球
１５
を
照明
する
ＩＲＥＤ
は
１
個
のみ
示し
ている
。
ここ
で
照明
用
ＩＲＥＤ
１３
ａ
は
接眼
レンズ
１１
射出
面
と
同
一面
に
配置
さ
れ
ている
。
ＩＲＥＤ
１３
ａ
から
放射
さ
れ
た
赤
外光
は
、
眼鏡
レンズ
１８
によって
屈折
し
て
撮影
者
の
眼球
１５
を
照明
する
。
撮影
者
の
眼球
１５
の
角膜
１６
の
曲
率
中心
ｏ
に
向う
光線
を
図
中
実線
で
示す
。
眼鏡
を
装着
し
た
撮影
者
に
対し
て
角膜
反射
像
の
虚像
は
図
中
Ｐ
０
の
位置
（
ｘ
座標
）
に
発生
する
。
撮影
者
が
眼鏡
を
装着
し
てい
なけれ
ば
角膜
反射
像
の
虚像
の
位置
は
図
中
Ｐ
１
の
位置
（
図
中
の
点線
上
）
に
発生
する
ため
、
眼鏡
を
装着
し
た
撮影
者
が
裸眼
の
撮影
者
と
同等
の
視線
検出
精度
を
得る
ため
に
は
、
眼鏡
を
装着
し
た
撮影
者
の
角膜
反射
像
の
位置
Ｐ
０
を
裸眼
の
撮影
者
の
角膜
反射
像
の
位置
Ｐ
１
に
補正
し
なけれ
ば
なら
ない
。
不
図示
の
イメージセンサ
上
に
投影
さ
れ
た
各
角膜
反射
像
の
ｘ
座標
を
ｘｐ
０
，
ｘｐ
１
と
する
と
、
それぞれ
は
、
ｘｐ
１
＝
ｘｐ
０
＋
δ
ｘｐ
…
…
…
…
（
８
）
の
関係式
を
満足
する
。
ここ
で
、
δ
ｘｐ
は
眼鏡
を
装着
し
た
撮影
者
の
角膜
反射
像
の
位置
を
補正
する
補正
値
で
、
その
値
は
、
δ
ｘｐ
＝
｛
（
２
＊
ｓｚ
−
Ｒｃ
）
／
（
２
＊
ｓｚ
）
｝
＊
（
ｓｘｉ
−
ｓｉ
０
）
＊
β
／
ｐｉｔｃｈ
と
なる
。
ここ
で
、
ｓｚ
は
角膜
１６
の
曲
率
中心
ｏ
の
ＩＲＥＤ
１３
ａ
設置
面
から
の
ｚ
方向
の
距離
、
Ｒｃ
は
角膜
１６
の
曲
率
半径
、
ｓｘｉ
は
ＩＲＥＤ
１３
ａ
の
ファインダ
光
軸
（
ｚ
軸
）
から
の
ｘ
方向
の
距離
である
。
また
、
ｓｉ
０
は
、
眼鏡
を
装着
し
た
撮影
者
から
見
た
ＩＲＥＤ
１３
ａ
の
見かけ
の
位置
Ｉ
０
の
ファインダ
光
軸
（
ｚ
軸
）
から
の
ｘ
方向
の
距離
である
。
ＩＲＥＤ
１３
ａ
の
見かけ
の
位置
Ｉ
０
は
、
眼鏡
の
レンズ
情報
に
基づい
て
撮影
者
の
眼球
１５
に
対し
て
レンズ
を
配置
設定
し
、
公知
の
光線
トレース
を
行う
こと
によって
求め
られる
。
実際
に
は
、
撮影
者
の
眼球
１５
は
２
個
の
ＩＲＥＤ
にて
照明
さ
れる
ため
、
各々
の
ＩＲＥＤ
に
対する
角膜
反射
像
の
ｘ
，
ｙ
方向
の
位置
を
補正
を
行う
必要
が
ある
。
イメージセンサ
１４
の
中心
画素
（
ｘｓ
，
ｙｓ
）
の
補正
も
同様
で
、
眼鏡
レンズ
情報
に
基づい
て
レンズ
を
配置
設定
し
、
受光
光学
系
の
光
軸
が
眼鏡
レンズ
１１
によって
どのように
屈折
する
か
を
光線
トレース
し
て
イメージセンサ
１４
と
の
交点
を
求め
、
それ
を
イメージセンサ
１４
の
中心
画素
と
設定
すれ
ば
よい
。
角膜
反射
像
の
位置
及び
イメージセンサ
１４
の
中心
画素
（
ｘｓ
，
ｙｓ
）
の
値
が
補正
さ
れる
と
、
前記
（
２
）
，
（
３
）
式
に
基づい
て
視線
が
再度
算出
さ
れる
。
再び
図
６
に
戻っ
て
、
視線
検出
が
終了
する
と
（
ステップ
１１１
）
、
ＣＰＵ
１００
は
算出
し
た
視線
〔
眼球
の
回転角
（
θ
ｘ
，
θ
ｙ
）
〕
から
ファインダ
内
の
注視
点
を
算出
する
（
ステップ
１１２
）
。
ファインダ
内
注視
点
の
座標
（
ｘ
，
ｙ
）
は
、
前記
（
４
）
，
（
５
）
式
により
算出
さ
れる
。
撮影
者
が
注視
し
ている
ファインダ
内
注視
点
を
算出
する
と
（
ステップ
１１２
）
、
その
注視
点
座標
から
焦点
検出
を
行う
測距
点
の
選択
を
行う
（
ステップ
１１３
）
。
測距
点
は
注視
点
座標
から
最も
近い
測距
点
を
選択
する
こと
に
なる
。
さらに
、
ＣＰＵ
１００
は
、
ＬＥＤ
駆動
回路
１０６
に
信号
を
送信
し
て
選択
さ
れ
た
測距
点
を
ファインダ
内
に
表示
する
。
撮影
者
が
ファインダ
内
に
スーパーインポーズ
表示
さ
れ
た
測距
点
を
見
て
、
その
測距
点
が
撮影
者
の
意図
し
た
もの
と
異なる
こと
を
認識
し
て
レリーズ
釦
４１
から
手
を
離し
て
スイッチ
ＳＷ
１
を
ＯＦＦ
し
た
の
を
信号
入力
回路
１０４
を
介し
て
検知
する
と
（
ステップ
１１４
）
、
ＣＰＵ
１００
は
信号
入力
回路
１０４
を
介し
て
再度
モード
確認
を
行っ
て
（
ステップ
１０１
）
、
通常
の
撮影
モード
であれ
ば
スイッチ
ＳＷ
１
が
ＯＮ
さ
れる
まで
待機
する
（
ステップ
１０４
）
。
また
、
スーパーインポーズ
表示
さ
れ
た
測距
点
を
見
て
撮影
者
が
引続き
スイッチ
ＳＷ
１
を
ＯＮ
し
続け
た
ならば
（
ステップ
１１４
）
、
次
に
ＣＰＵ
１００
は
自動
焦点
検出
回路
１０３
により
視線
情報
より
選択
さ
れ
た
測距
点
の
焦点
検出
を
実行
する
（
ステップ
１１５
）
。
そして
、
焦点
検出
が
完了
する
と
（
ステップ
１１５
）
、
実際
に
撮影
レンズ
１
の
焦点
調節
を
行う
測距
点
を
決定
する
（
ステップ
１１６
）
。
この
とき
、
カメラ
が
視線
入力
禁止
モード
に
設定
さ
れ
てい
たら
、
焦点
検出
を
行っ
た
全測
距
点
の
中
から
物体
距離
が
最も
短い
測距
点
を
、
実際
に
撮影
レンズ
１
の
焦点
調節
を
行う
測距
点
を
決定
する
。
次
に
、
視線
情報
によって
決定
し
た
測距
点
が
測距
不能
である
か否か
を
確認
し
（
ステップ
１１７
）
、
もし
測距
不能
の
場合
は
ＣＰＵ
１００
は
ＬＣＤ
駆動
回路
１０５
に
信号
を
送っ
て
ファインダ
内
ＬＣＤ
２４
の
合焦
マーク
５０
を
点滅
させ
、
測距
が
ＮＧ
（
不能
）
で
ある
こと
を
撮影
者
に
警告
する
（
ステップ
１２５
）
。
該
警告
表示
は
スイッチ
ＳＷ
１
が
離さ
れる
まで
継続
する
（
ステップ
１２６
）
。
また
、
決定
し
た
測距
点
が
測距
可能
で
あり
（
ステップ
１１７
）
、
該
測距
点
に
対応
する
撮影
レンズ
１
の
焦点
調節
状態
が
合焦
し
てい
なけれ
ば
（
ステップ
１１８
）
、
ＣＰＵ
１００
は
レンズ
焦点
調節
回路
１１０
に
信号
を
送っ
て
撮影
レンズ
１
の
合焦
レンズ
１
ａ
を
所
定量
駆動
させる
（
ステップ
１２７
）
。
レンズ
駆動
後
に
自動
焦点
検出
回路
１０３
を
介し
て
決定
し
ている
１
つ
の
測距
点
の
焦点
検出
を
再度
行い
（
ステップ
１１５
）
、
撮影
レンズ
１
が
合焦
し
ている
か否か
の
判定
を
行う
（
ステップ
１１８
）
。
撮影
レンズ
が
合焦
し
てい
た
ならば
（
ステップ
１１８
）
、
ＣＰＵ
１００
は
ＬＣＤ
駆動
回路
１０５
に
信号
を
送っ
て
ファインダ
内
ＬＣＤ
２４
の
合焦
マーク
５０
を
点灯
させる
と共に
、
ＬＥＤ
駆動
回路
１０６
に
も
信号
を
送っ
て
合焦
し
ている
測距
点
に
合焦
表示
させる
（
ステップ
１１９
）
。
この
とき
、
前記
視線
によって
選択
さ
れ
た
測距
点
の
点滅
表示
は
消灯
し
、
合焦
し
た
こと
を
撮影
者
に
認識
させる
ため
に
合
焦測
距
点
は
点灯
状態
に
設定
する
。
合焦
し
た
測距
点
が
ファインダ
内
に
表示
さ
れ
た
の
を
撮影
者
が
見
て
、
その
測距
点
が
正しく
ない
と
認識
し
て
レリーズ
釦
４１
から
手
を
離し
スイッチ
ＳＷ
１
を
ＯＦＦ
する
と
（
ステップ
１２０
）
、
ＣＰＵ
１００
は
再度
モード
確認
を
行っ
て
（
ステップ
１０１
）
、
通常
の
撮影
モード
であれ
ば
スイッチ
ＳＷ
１
が
ＯＮ
さ
れる
まで
待機
する
（
ステップ
１０４
）
。
また
、
撮影
者
が
合焦
表示
さ
れ
た
測距
点
を
見
て
、
引続き
スイッチ
ＳＷ
１
を
ＯＮ
し
続け
た
ならば
（
ステップ
１２０
）
、
ＣＰＵ
１００
は
測光
回路
１０２
に
信号
を
送信
し
て
測光
を
行わ
せる
（
ステップ
１２１
）
。
この
とき
合焦
し
た
測距
点
を
含む
測光
領域
２１０
〜
２１３
に
重み
付け
を
行っ
た
露出
値
を
演算
する
。
さらに
、
レリーズ
釦
４１
が
押
込ま
れ
て
スイッチ
ＳＷ
２
が
ＯＮ
さ
れ
ている
かどうか
の
判定
を
行い
（
ステップ
１２２
）
、
スイッチ
ＳＷ
２
が
ＯＦＦ
状態
であれ
ば
、
再び
スイッチ
ＳＷ
１
の
状態
の
確認
を
行う
（
ステップ
１２０
）
。
また
、
スイッチ
ＳＷ
２
が
ＯＮ
さ
れ
た
ならば
、
ＣＰＵ
１００
は
シャッタ
制御
回路
１０８
，
モータ
制御
回路
１０９
，
絞り
駆動
回路
１１１
に
それぞれ
信号
を
送信
し
て
、
以下
の
シャッタレリーズ
動作
を
開始
する
。
つまり
、
先ず
モータ
Ｍ
２
に
通電
し
、
主
ミラー
２
を
アップ
させ
、
絞り
３１
を
絞り
込ん
だ
後
、
マグネット
ＭＧ
１
に
通電
し
シャッタ
４
の
先
幕
を
開放
する
。
絞り
３１
の
絞り
値
及び
シャッタ
４
の
シャッタスピード
は
、
前記
測光
回路
１０２
にて
検知
さ
れ
た
露出
値
と
フィルム
５
の
感度
から
決定
さ
れる
。
所定
の
シャッタ
秒
時
経過
後
マグネット
ＭＧ
２
に
通電
し
、
シャッタ
４
の
後
幕
を
閉じる
（
ステップ
１２３
）
。
フィルム
５
へ
の
露光
が
終了
する
と
、
モータ
Ｍ
２
に
再度
通電
し
、
ミラーダウン
，
シャッタチャージ
を
行う
とともに
モータ
Ｍ
１
に
も
通電
し
、
フィルム
の
駒
送り
を
行い
、
一連の
シャッタレリー
ズ
の
動作
が
終了
する
（
ステップ
１２４
）
。
カメラ
の
シャッタレリーズ
及び
給送
動作
が
終了
する
と
（
ステップ
１２４
）
、
ＣＰＵ
１００
は
再度
モード
確認
を
行っ
て
（
ステップ
１０１
）
、
通常
の
撮影
モード
であれ
ば
スイッチ
ＳＷ
１
が
ＯＮ
さ
れる
まで
待機
する
（
ステップ
１０４
）
。
図
９
は
、
図
６
の
ステップ
１２８
において
実行
さ
れる
注視
点
の
キャリブレーション
動作
を
示す
フローチャート
であり
、
以下
同
図
を
用い
て
説明
する
。
撮影
者
が
モードダイヤル
４４
を
回転
させ
、
「
ＣＡＬ
」
ポジション
４４
ｄ
を
指標
５５
に
合せる
と
、
視線
キャリブレーションモード
が
設定
さ
れる
（
ステップ
１２８
）
。
視線
キャリブレーションモード
は
、
キャリブレーション
動作
を
行う
「
ＯＮ
」
モード
と
キャリブレーション
動作
を
行わ
ない
「
ＯＦＦ
」
モード
と
が
ある
。
各
モード
は
電子
ダイヤル
４５
を
回転
させる
こと
によって
選択
できる
。
「
ＯＮ
」
モード
において
は
、
例えば
５
つ
の
キャリブレーションナンバー
（
ＣＡＬ
１
〜
ＣＡＬ
５
）
が
選択
可能
で
、
ＥＥＰＲＯＭ
１００
ａ
に
は
選択
さ
れ
た
キャリブレーションナンバー
に
対応
し
た
アドレス
上
に
キャリブレーションデータ
が
５
組
記憶
可能
と
なっ
ている
。
また
、
この
時
選択
さ
れ
た
キャリブレーションナンバー
は
キャリブレーションデータナンバー
（
１
〜
５
）
と
し
て
ＥＥＰＲＯＭ
１００
ａ
に
記憶
さ
れる
。
また
、
電子
ダイヤル
４５
によって
「
ＯＦＦ
」
モード
を
選択
する
と
、
ＥＥＰＲＯＭ
１００
ａ
に
記憶
さ
れる
キャリブレーションデータナンバー
が
例えば
「
０
」
に
設定
さ
れ
、
視線
入力
禁止
モード
に
設定
さ
れる
。
ＣＰＵ
１００
は
ＬＣＤ
駆動
回路
１０５
に
信号
を
送信
し
、
ファインダ
内
ＬＣＤ
２４
及び
モニタ
用
ＬＣＤ
４２
に
視線
キャリブレーションモード
に
入っ
た
こと
を
示す
表示
を
行う
（
ステップ
３０１
）
。
撮影
者
が
ファインダ
内
ＬＣＤ
２４
あるいは
モニタ
用
ＬＣＤ
４２
に
表示
さ
れ
た
キャリブレーションナンバー
を
見
ながら
所望
の
キャリブレーションナンバー
を
選択
し
たら
、
ＣＰＵ
１００
は
選択
さ
れ
た
キャリブレーションナンバー
を
確認
する
（
ステップ
３０２
）
。
そして
、
確認
し
た
キャリブレーションナンバー
は
キャリブレーションデータナンバー
と
し
て
ＥＥＰＲＯＭ
１００
ａ
の
所定
の
アドレス
上
に
記憶
する
。
続い
て
ＣＰＵ
１００
は
信号
入力
回路
１０４
を
介し
て
撮影
モード
の
確認
を
行う
（
ステップ
３０３
）
。
撮影
者
が
モードダイヤル
４４
を
回転
させ
て
注視
点
の
キャリブレーションモード
以外
の
撮影
モード
に
切
換え
ている
こと
を
確認
し
たら
（
ステップ
３０３
）
、
モード
変更
が
なされ
た
と
し
て
ファインダ
内外
の
キャリブレーション
用
表示
を
消灯
させ
て
（
ステップ
３０４
）
、
メイン
の
ルーチン
である
カメラ
の
撮影
動作
に
復帰
する
（
ステップ
３２７
）
。
この
とき
、
キャリブレーションナンバー
「
ＣＡＬ
１
〜
ＣＡＬ
５
」
が
表示
さ
れ
ている
状態
で
モードダイヤル
４４
を
他の
撮影
モード
に
切
換えれ
ば
、
その
キャリブレーションナンバー
の
キャリブレーションデータ
を
用い
て
視線
検出
を
行い
、
前述
の
視線
情報
を
用い
た
撮影
動作
が
行える
よう
に
なっ
ている
。
一方
、
視線
キャリブレーションモード
に
設定
さ
れ
た
まま
である
こと
を
確認
する
と
（
ステップ
３０３
）
、
電子
ダイヤル
４５
にて
設定
さ
れ
た
キャリブレーションナンバー
の
確認
を
再度
行う
（
ステップ
３０５
）
。
この
とき
、
ＥＥＰＲＯＭ
１００
ａ
に
記憶
さ
れ
た
キャリブレーションデータナンバー
が
「
０
」
に
設定
さ
れ
視線
入力
禁止
モード
が
選択
さ
れ
ていれ
ば
（
ステップ
３０５
）
、
再度
キャリブレーションナンバー
の
確認
を
行い
（
ステップ
３０２
）
、
撮影
モード
が
変更
さ
れる
まで
待機
する
（
ステップ
３０３
）
。
則ち
、
ファインダ
内
ＬＣＤ
２４
及び
モニタ
用
ＬＣＤ
４２
に
「
ＯＦＦ
」
が
表示
さ
れ
ている
状態
で
モードダイヤル
４４
を
切
換えれ
ば
、
視線
検出
を
行わ
ない
で
撮影
動作
を
行う
よう
に
なっ
ている
。
キャリブレーションデータナンバー
が
「
０
」
以外
の
値
に
設定
さ
れ
ていれ
ば
（
ステップ
３０５
）
、
次
に
姿勢
検知
手段
によって
カメラ
の
姿勢
を
検知
する
（
ステップ
３０６
）
。
前述
し
た
様
に
、
姿勢
検知
手段
は
信号
入力
回路
１０４
を
介し
て
姿勢
検知
スイッチ
ＳＷ
−
ＡＮＧ
１
，
ＳＷ
−
ＡＮＧ
２
である
ところ
の
水銀
スイッチ
２７
及び
不
図示
の
水銀
スイッチ
の
出力
信号
を
処理
し
て
、
カメラ
が
横
位置
である
か
縦
位置
である
か
、
また
縦
位置
である
場合
は
レリーズ
釦
４１
が
天
方向
（
上
方向
）
に
ある
か
地
方向
（
下
方向
）
に
ある
か
を
判断
する
。
注視
点
の
キャリブレーション
は
、
スイッチ
ＳＷ
１
を
ＯＮ
する
事
により
開始
さ
れる
よう
に
設定
さ
れ
ている
。
撮影
者
が
、
注視
点
の
キャリブレーション
を
行う
準備
が
整う
以前
に
カメラ
側
が
キャリブレーション
を
開始
する
の
を
防ぐ
ため
に
、
ＣＰＵ
１００
は
スイッチ
ＳＷ
１
の
状態
の
確認
を
行い
、
スイッチ
ＳＷ
１
が
レリーズ
釦
４１
によって
押さ
れ
てい
て
ＯＮ
状態
であれ
ば
スイッチ
ＳＷ
１
が
ＯＦＦ
状態
に
なる
まで
待機
する
（
ステップ
３０７
）
。
その
後
、
ＣＰＵ
１００
は
信号
入力
回路
１０４
を
介し
て
スイッチ
ＳＷ
１
が
ＯＦＦ
状態
である
こと
を
確認
する
と
（
ステップ
３０７
）
、
ＬＥＤ
駆動
回路
１０６
に
信号
を
送信
し
て
注視
点
の
キャリブレーショ
ン
用
視
標
１
を
点滅
させる
（
ステップ
３０８
）
。
注視
点
の
キャリブレーション
用
視
標
は
測距
点
マーク
２００
，
２０４
と
兼用
し
ており
、
ファインダ
内
に
スーパーインポーズ
表示
さ
れる
。
また
、
キャリブレーション
を
実行
する
際
に
最初
に
提示
さ
れる
第
１
の
視標
は
、
カメラ
の
姿勢
によって
選択
さ
れる
。
カメラ
の
姿勢
が
横
位置
の
状態
では
、
キャリブレーション
用
視
標
は
左端
の
測距
点
２００
から
点滅
を
開始
する
。
また
、
カメラ
の
姿勢
が
レリーズ
釦
４１
が
天
方向
に
ある
第
１
の
縦
位置
の
状態
であれ
ば
、
キャリブレーション
用
視
標
は
撮影
者
に
対し
て
下端
の
測距
点
２００
から
点滅
を
開始
する
。
同様
に
、
カメラ
の
姿勢
が
レリーズ
釦
４１
が
地
方向
に
ある
第
２
の
縦
位置
の
状態
であれ
ば
、
キャリブレーション
用
視
標
は
撮影
者
に
対し
て
下端
の
測距
点
２０４
から
点滅
を
開始
する
。
注視
点
の
キャリブレーション
の
開始
の
トリガ
信号
である
スイッチ
ＳＷ
１
の
ＯＮ
信号
が
入っ
てい
なけれ
ば
待機
する
（
ステップ
３０９
）
。
点滅
を
開始
し
た
視標
を
撮影
者
が
注視
し
レリーズ
釦
４１
を
押して
スイッチ
ＳＷ
１
を
ＯＮ
し
たら
（
ステップ
３０９
）
、
ＣＰＵ
１００
は
ＬＥＤ
駆動
回路
１０６
に
信号
を
送信
し
て
キャリブレーション
用
視
標
１
を
点灯
させる
（
ステップ
３１０
）
。
さらに
ＣＰＵ
１００
は
、
ＩＲＥＤ
駆動
回路
１０７
に
信号
を
送信
し
て
撮影
者
の
眼球
１５
を
照明
する
ＩＲＥＤ
を
点灯
させる
。
この
とき
、
ＩＲＥＤ
駆動
回路
１０７
を
介し
て
裸眼
撮影
者
用
の
ＩＲＥＤ
１３
ａ
，
１３
ｂ
，
１３
ｅ
，
１３
ｆ
を
選択
し
て
点灯
させる
が
、
これ
は
撮影
者
が
眼鏡
を
装着
し
ている
か否か
を
判定
し
やすく
する
ため
である
。
すなわち
、
裸眼
撮影
者
用
の
ＩＲＥＤ
が
点灯
する
と
、
撮影
者
が
眼鏡
を
装着
し
ていれ
ば
該
眼鏡
レンズ
１８
で
反射
する
照明
光
の
一部
が
受光
光学
系
に
入射
し
やすく
なり
、
イメージセンサ
１４
上
に
ゴースト
と
し
て
像
を
形成
する
。
ＣＣＤ
読
出し
回路
１０１
は
イメージセンサ
１４
で
得
られ
た
像
信号
を
Ａ
／
Ｄ
変換
し
て
ＣＰＵ
１００
に
送信
し
、
さらに
ＣＰＵ
１００
は
得
られ
た
眼球
像
信号
を
解析
し
て
撮影
者
が
眼鏡
を
装着
し
ている
か否か
を
判定
する
（
ステップ
３１１
）
。
この
とき
、
撮影
者
が
眼鏡
を
装着
し
ている
か否か
を
検知
できれ
ば
よい
ので
、
上述
の
裸眼
照明
による
眼球
像
を
得る
際
は
、
ＩＲＥＤ
の
照明
光
量
を
小さく
し
たり
、
ＩＲＥＤ
の
照明
と
同期
し
た
イメージセンサ
１４
の
蓄積
時間
を
短く
し
て
、
消費
電力
を
小さく
する
の
は
有効
である
。
撮影
者
が
眼鏡
を
装着
し
てい
ない
と
判定
し
たら
（
ステップ
３１２
）
、
視線
検出
を
実行
する
ため
の
照明
用
ＩＲＥＤ
を
設定
する
（
ステップ
３１４
）
。
一方
、
撮影
者
が
眼鏡
を
装着
し
ている
と
判定
し
たら
（
ステップ
３１２
）
、
先
に
検出
し
た
眼球
像
信号
から
眼鏡
レンズ
情報
、
すなわち
眼鏡
レンズ
１８
の
曲
率
半径
を
算出
する
。
眼鏡
レンズ
情報
検出
手段
である
ところ
の
ＣＰＵ
１００
は
、
眼球
像
信号
より
眼鏡
が
ある
こと
により
発生
し
た
ゴースト
の
位置
を
検出
する
。
ゴースト
の
光
強度
は
強い
ので
、
所定
の
しきい値
を
設け
て
それ
を
超える
像
を
ゴースト
と
判定
し
て
その
重心
を
計算
すれ
ば
よい
。
また
、
眼鏡
に
は
照明
光
が
反射
する
レンズ
面
が
２
面
ある
が
、
各
レンズ
面
の
位置
及び
曲
率
半径
が
異なる
ので
各
レンズ
面
によって
形成
さ
れる
ゴースト
の
位置
と
大き
さ
も
異なっ
てくる
。
この
位置
と
大き
さ
を
比較
する
こと
により
、
どの
レンズ
面
で
反射
し
た
光
による
ゴースト
か
を
判定
する
こと
が
可能
である
。
ゴースト
の
位置
が
検出
さ
れる
と
、
眼鏡
レンズ
１８
の
曲
率
半径
Ｒｇ
は
、
Ｒｇ
＝
−
〔
（
２
＊
△
ｘｇ
＊
ｓ
１
＊
ｓ
２
）
／
｛
△
ｘｇ
＊
（
ｓ
１
＋
ｓ
２
）
−
２
＊
ｓｘｉ
＊
ｓ
３
｝
〕
…
…
…
…
（
９
）
と
求まる
。
ここ
で
、
各
パラメータ
は
、
△
ｘｇ
：
４
個
の
ＩＲＥＤ
にて
形成
さ
れる
眼鏡
レンズ
１８
による
ゴースト
の
イメージセンサ
上
で
の
ｘ
方向
の
間隔
（
単位
）
ｓ
１
：
受光
光学
系
の
前側
主点
から
眼鏡
の
レンズ
面
まで
の
距離
（
単位
）
ｓ
２
：
ＩＲＥＤ
配置
面
（
接眼
レンズ
射出
面
）
から
眼鏡
の
レンズ
面
まで
の
距離
（
単位
）
ｓ
３
：
受光
光学
系
の
後
側
主点
から
イメージセンサ
１４
チップ
面
まで
の
距離
（
単位
）
で
ある
。
眼鏡
レンズ
１８
の
第
１
の
レンズ
面
と
第
２
の
レンズ
面
と
で
は
曲
率
半径
が
異なる
ため
、
イメージセンサ
１４
上
に
形成
さ
れる
ゴースト
も
異なる
位置
に
発生
する
。
その
結果
、
第
１
の
レンズ
面
で
反射
し
た
光
による
イメージセンサ
１４
上
で
の
ゴースト
の
間隔
と
、
第
２
の
レンズ
面
で
反射
し
た
光
による
イメージセンサ
１４
上
で
の
ゴースト
の
間隔
と
は
異なる
ため
、
それぞれ
の
値
を
上記
（
９
）
式
に
代入
する
こと
によって
各
レンズ
面
の
曲
率
半径
を
算出
する
。
この
とき
、
第
１
の
レンズ
面
と
第
２
の
レンズ
面
と
は
レンズ
の
厚さ
分
位置
が
異なる
ので
、
上記
パラメータ
ｓ
１
，
ｓ
２
を
修正
し
て
曲
率
半径
を
算出
する
の
は
言う
まで
も
ない
。
眼鏡
レンズ
情報
（
眼鏡
レンズ
の
曲
率
半径
）
を
検出
する
と
、
その
情報
を
記憶
手段
である
ＥＥＰＲＯＭ
１００
ａ
の
現在
設定
さ
れ
た
キャリブレーションナンバー
に
対応
し
た
所定
の
アドレス
上
に
メ
モリ
する
（
ステップ
３１３
）
。
この
とき
、
既に
眼鏡
レンズ
情報
が
ＥＥＰＲＯＭ
１００
ａ
に
メモリ
さ
れ
てい
たら
、
新
に
検出
さ
れ
た
眼鏡
レンズ
情報
を
既に
記憶
さ
れ
てい
た
眼球
レンズ
情報
に
加重
平均
し
た
値
に
し
て
メモリ
する
。
眼鏡
レンズ
情報
を
検出
し
記憶
手段
に
メモリ
する
と
（
ステップ
３１３
）
、
視線
検出
を
実行
する
ため
の
照明
用
ＩＲＥＤ
を
設定
する
（
ステップ
３１４
）
。
照明
用
ＩＲＥＤ
は
撮影
者
の
眼球
１５
を
下方
から
照明
する
よう
に
ＩＲＥＤ
駆動
回路
１０７
によって
選択
さ
れる
。
つまり
、
姿勢
検知
手段
によって
検知
さ
れ
た
カメラ
の
姿勢
が
横
位置
の
状態
であれ
ば
、
ＩＲＥＤ
１３
ａ
，
１３
ｂ
を
選択
する
。
また
、
撮影
者
が
眼鏡
装着
者
の
場合
は
、
ＩＲＥＤ
１３
ｃ
，
１３
ｄ
を
選択
する
。
一方
、
カメラ
の
姿勢
が
レリーズ
釦
４１
が
天
方向
に
ある
第
１
の
縦
位置
の
状態
であれ
ば
、
ＩＲＥＤ
１３
ａ
，
１３
ｅ
を
選択
し
、
眼鏡
装着
者
に
対し
て
は
、
ＩＲＥＤ
１３
ｃ
，
１３
ｇ
を
選択
する
。
また
、
カメラ
の
姿勢
が
レリーズ
釦
４１
が
地
方向
に
ある
第
２
の
縦
位置
の
状態
であれ
ば
、
ＩＲＥＤ
１３
ｂ
，
１３
ｆ
を
選択
し
、
眼鏡
装着
者
に
対し
て
は
、
１３
ｄ
，
１３
ｈ
を
選択
する
。
照明
用
ＩＲＥＤ
を
設定
する
と
（
ステップ
３１４
）
、
視線
検出
を
実行
する
（
ステップ
３１５
）
。
１
回
の
視線
検出
が
終了
する
毎
に
視線
検出
回数
を
加算
する
。
視線
検出
の
フロー
は
、
図
７
に
示し
た
通り
である
。
視線
検出
が
終了
する
と
（
ステップ
３１５
）
、
視線
検出
回数
を
確認
する
。
注視
点
の
キャリブレーションデータ
を
求める
のに
十分
な
所定
の
視線
検出
回数
に
達し
てい
なけれ
ば
（
ステップ
３１６
）
、
視線
検出
を
続行
する
（
ステップ
３１５
）
。
また
、
注視
点
の
キャリブレーションデータ
を
求める
のに
十分
な
所定
の
視線
検出
回数
に
達し
ていれ
ば
（
ステップ
３１６
）
、
現在
表示
し
ている
視標
に
対する
視線
検出
を
終了
する
。
ＣＰＵ
１００
は
、
視線
検出
が
終了
し
た
こと
を
撮影
者
に
認識
させる
ため
に
、
図示
さ
れ
てい
ない
発音
体
を
用い
て
電子
音
を
数
回
鳴らさ
せる
。
同時
に
ＣＰＵ
１００
は
、
ＬＥＤ
駆動
回路
１０６
を
介し
て
視標
を
消灯
させる
（
ステップ
３１７
）
。
引続き
ＣＰＵ
１００
は
、
検出
し
た
複数
の
視線
情報
（
θ
ｘ
，
θ
ｙ
）
及び
瞳孔
径
Ｒｐ
の
データ
処理
を
行う
（
ステップ
３１８
）
。
これ
は
撮影
者
が
視標
を
注視
し
ている
とき
、
本人
の
意志
に
反し
て
視線
が
動い
た
時
に
検出
し
た
データ
を
除外
する
処理
である
。
ＣＰＵ
１００
は
検出
データ
の
平均値
に
対し
て
偏差
の
大きい
データ
を
除外
し
て
、
残っ
た
データ
の
平均値
を
算出
する
。
さらに
ＣＰＵ
１００
は
、
データ
処理
し
た
後
の
データ
が
有効
で
ある
かどうか
の
判定
を
行う
（
ステップ
３１９
）
。
判定
は
、
複数
の
検出
データ
の
うち
有効
であっ
た
データ
の
数
及び
その
平均値
を
基準
値
と
比較
し
て
行わ
れる
。
例えば
、
１０
個
の
検出
データ
に
対し
て
有効
な
データ
数
が
５
以下
であっ
たり
その
平均値
が
所定
の
範囲
を
超え
てい
た
場合
は
、
視
標
に
対する
キャリブレーションデータ
を
とる
のに
失敗
し
た
と
判定
し
て
（
ステップ
３１９
）
、
ＣＰＵ
１００
は
図示
さ
れ
てい
ない
発音
体
を
用い
て
電子
音
を
所定
時間
鳴らし
、
さらに
ＬＣＤ
駆動
回路
１０５
に
信号
を
送信
し
て
ファインダ
内
ＬＣＤ
２４
及び
モニタ
用
ＬＣＤ
４２
において
「
ＣＡＬ
」
表示
を
点滅
させ
て
撮影
者
に
警告
する
（
ステップ
３２６
）
。
一方
、
有効
な
データ
数
が
５
より
多く
、
かつ
、
その
平均値
が
所定
の
範囲
内
であっ
た
場合
は
、
データ
処理
後
データ
は
有効
である
と
判定
し
て
（
ステップ
３１９
）
、
さらに
注視
点
の
キャリブレーション
が
終了
し
た
か否か
を
判定
する
（
ステップ
３２０
）
。
第
２
の
視標
に
対する
キャリブレーション
が
終了
し
てい
ない
場合
は
（
ステップ
３２０
）
、
第
２
の
視標
に
対する
視線
検出
を
開始
する
（
ステップ
３０７
）
。
以下
の
動作
は
上述
の
通り
である
。
第
２
の
視標
に
対する
キャリブレーション
が
終了
した
なら
ば
（
ステップ
３２０
）
、
ＣＰＵ
１００
は
処理
データ
を
ＥＥＰＲＯＭ
１００
ａ
の
所定
の
アドレス
上
に
記憶
する
（
ステップ
３２１
）
。
ＥＥＰＲＯＭ
１００
ａ
に
記憶
する
キャリブレーションデータ
は
、
眼球
の
回転角
の
平均値
、
瞳孔
径
の
平均値
及び
それら
の
値
の
積
である
が
、
キャリブレーションデータ
は
キャリブレーション
毎
に
更新
は
さ
れ
ず
に
既に
記憶
し
ている
値
に
対し
て
加算
さ
れる
よう
に
なっ
ている
。
キャリブレーションデータ
とともに
キャリブレーション
回数
の
メモリ
が
終了
する
と
（
ステップ
３２１
）
、
ＣＰＵ
１００
は
ＬＣＤ
駆動
回路
１０５
，
ＬＥＤ
駆動
回路
１０６
を
介し
て
注視
点
の
キャリブレーション
終了
表示
を
行う
（
ステップ
３２２
）
。
ＬＥＤ
駆動
回路
１０６
は
スーパーインポーズ
用
ＬＥＤ
２１
に
通電
し
二
つの
視
標
を
数
回
点滅
させる
とともに
、
ＬＣＤ
駆動
回路
１０５
は
ＬＣＤ
２４
，
４２
に
信号
を
送信
し
て
「
ＥＮＤ
」
の
表示
を
所定
時間
実行
する
よう
に
なっ
ている
。
ところで
、
キャリブレーション
終了
表示
後
（
ステップ
３２２
）
、
あるいは
、
キャリブレーション
ＮＧ
表示
後
（
ステップ
３２６
）
、
撮影
者
が
スイッチ
ＳＷ
１
を
ＯＮ
し
たら
ＣＰＵ
１００
は
信号
入力
回路
１０４
を
介し
て
スイッチ
ＳＷ
１
の
ＯＮ
信号
を
検知
し
て
（
ステップ
３２３
）
、
再度
注視
点
の
キャリブレーション
を
実行
できる
よう
に
注視
点
キャリブレーション
の
開始
の
ステップ
に
移行
する
（
ステップ
３０６
）
。
一連の
注視
点
の
キャリブレーション
終了
後
、
カメラ
は
撮影
者
によって
電子
ダイヤル
４５
か
モードダイヤル
４４
が
操作
さ
れる
まで
待機
する
。
撮影
者
が
電子
ダイヤル
４５
を
回転
させ
て
他の
キャリブレーションナンバー
を
選択
した
なら
ば
、
ＣＰＵ
１００
は
信号
入力
回路
１０４
を
介し
て
キャリブレーションナンバー
の
変更
を
検知
し
て
（
ステップ
３２４
）
、
注視
点
の
キャリブレーションルーチン
の
初期
の
ステップ
（
３０１
）
に
移行
する
。
また
、
撮影
者
が
モードダイヤル
４４
を
回転
させ
て
他の
撮影
モード
を
選択
した
なら
ば
、
ＣＰＵ
１００
は
信号
入力
回路
１０４
を
介し
て
撮影
モード
の
変更
を
検知
し
て
（
ステップ
３２５
）
、
メイン
の
ルーチン
に
復帰
する
（
ステップ
３２７
）
。
（
第
２
の
実施
例
）
図
１０
は
本
発明
の
第
２
の
実施
例
に
係る
視線
検出
機能
を
有し
た
カメラ
の
動作
を
示す
フローチャート
である
。
なお
、
本
実施
例
の
カメラ
は
、
図
１
〜
図
５
に
示し
た
カメラ
の
構成
と
同等
である
ため
、
以下
各
図
を
用い
て
カメラ
の
動作
を
説明
する
。
モードダイヤル
４４
を
回転
させ
て
カメラ
を
不
作動
状態
（
ロック
状態
）
から
所定
の
撮影
モード
に
設定
する
と
、
カメラ
の
電源
が
ＯＮ
さ
れる
（
ステップ
１３０
）
。
すると
、
ＣＰＵ
１００
は
信号
入力
回路
１０４
を
介し
て
モードダイヤル
４４
が
どの
モード
に
設定
さ
れ
ている
か
を
確認
する
（
ステップ
１３１
）
。
この
結果
、
モードダイヤル
４４
が
視線
キャリブレーション
（
ＣＬＡ
）
モード
に
設定
さ
れ
ていれ
ば
（
ステップ
１３２
）
、
注視
点
の
キャリブレーション
を
実行
する
（
ステップ
１５８
）
。
この
注視
点
の
キャリブレーション
について
は
後述
する
。
そして
、
注視
点
の
キャリブレーション
が
終了
する
と
、
カメラ
は
レリーズ
釦
４１
が
押
込ま
れ
て
スイッチ
ＳＷ
１
が
ＯＮ
さ
れる
まで
待機
する
（
ステップ
１３４
）
。
また
、
上記
モードダイヤル
４４
が
視線
キャリブレーションモード
に
設定
さ
れ
て
おら
ず
（
ステップ
１３２
）
、
かつ
、
電源
ロックモード
に
設定
さ
れ
ていれ
ば
（
ステップ
１３３
）
、
カメラ
の
電源
は
ＯＦＦ
さ
れる
（
ステップ
１５９
）
。
一方
、
モードダイヤル
４４
が
通常
の
撮影
モード
に
設定
さ
れ
ていれ
ば
、
レリーズ
釦
４１
が
押
込ま
れ
て
スイッチ
ＳＷ
１
が
ＯＮ
さ
れる
まで
待機
する
（
ステップ
１３４
）
。
レリーズ
釦
４１
が
押込
まれ
スイッチ
ＳＷ
１
が
ＯＮ
さ
れ
た
こと
を
信号
入力
回路
１０４
を
介し
て
検知
する
と
、
ＣＰＵ
１００
は
姿勢
検知
手段
によって
カメラ
の
姿勢
が
どの
状態
に
なっ
ている
か
を
検知
する
（
ステップ
１３５
）
。
次
に
ＣＰＵ
１００
は
視線
検出
を
行う
際
に
複数
ある
キャリブレーションデータ
の
中
の
どの
キャリブレーションデータ
を
使用
する
か
を
示し
た
キャリブレーションデータナンバー
を
ＥＥＰＲＯＭ
１００
ａ
にて
確認
する
。
この
時
、
確認
し
た
キャリブレーションデータナンバー
が
視線
入力
禁止
モード
に
設定
さ
れ
てい
たら
（
ステップ
１３６
）
、
視線
検出
動作
は
行わ
ず
に
直ちに
各
測距
点
に
対する
焦点
検出
を
実行
する
（
ステップ
１４５
）
。
一方
、
前記
キャリブレーションデータナンバー
が
視線
入力
モード
に
対応
し
た
値
に
設定
さ
れ
ている
と
（
ステップ
１３６
）
、
該
キャリブレーションデータナンバー
に
対応
し
た
キャリブレーションデータ
を
ＥＥＰＲＯＭ
１００
ａ
の
所定
の
アドレス
上
から
読み
出す
（
ステップ
１３７
）
。
キャリブレーションデータ
の
中
に
は
撮影
者
が
眼鏡
を
装着
し
ている
か否か
の
情報
と
眼鏡
装着
者
に
対し
て
は
装着
し
ている
眼鏡
の
レンズ
情報
（
眼鏡
レンズ
の
曲
率
半径
）
も
含ま
れ
ている
。
該
キャリブレーションデータ
より
撮影
者
が
眼鏡
を
装着
し
てい
ない
と
判定
する
と
（
ステップ
１３８
）
、
視線
検出
を
実行
する
ため
に
裸眼
撮影
者
用
の
照明
を
設定
する
（
ステップ
１４０
）
。
また
、
読み
出し
た
キャリブレーションデータ
より
撮影
者
が
眼鏡
を
装着
し
ている
と
判定
する
と
（
ステップ
１３８
）
、
ＣＰＵ
１００
は
眼鏡
レンズ
情報
の
検出
を
実行
する
（
ステップ
１３９
）
。
ここ
で
検出
さ
れる
眼鏡
レンズ
情報
は
、
眼鏡
レンズ
の
曲
率
半径
と
曲
率
中心
の
値
である
。
以下
、
眼鏡
レンズ
情報
の
検出
方法
を
説明
する
。
ＣＰＵ
１００
は
、
ＩＲＥＤ
駆動
回路
１０７
に
信号
を
送信
し
て
裸眼
撮影
者
用
の
ＩＲＥＤ
１３
ａ
，
１３
ｂ
，
１３
ｅ
，
１３
ｆ
を
選択
し
て
点灯
させる
。
ＣＣＤ
読
出し
回路
１０１
は
イメージセンサ
１４
で
得
られ
た
像
信号
を
Ａ
／
Ｄ
変換
し
て
ＣＰＵ
１００
に
送信
し
、
さらに
ＣＰＵ
１００
は
得
られ
た
眼球
像
信号
を
解析
し
て
眼鏡
が
ある
こと
により
発生
し
た
ゴースト
の
位置
を
検出
する
。
ゴースト
の
光
強度
は
強い
ので
、
所定
の
しきい値
を
設け
て
それ
を
超える
像
を
ゴースト
と
判定
し
て
その
重心
を
計算
すれ
ば
よい
。
また
、
眼鏡
に
は
照明
光
が
反射
する
レンズ
面
が
２
面
ある
が
、
各
レンズ
面
の
位置
及び
曲
率
半径
が
異なる
ので
各
レンズ
面
によって
形成
さ
れる
ゴースト
の
位置
と
大き
さ
も
異なっ
ている
。
この
位置
と
大き
さ
を
比較
する
こと
により
、
どの
レンズ
面
で
反射
し
た
光
による
ゴースト
か
を
判定
する
こと
が
可能
である
。
ゴースト
に
位置
を
検出
する
と
、
眼鏡
レンズ
１８
の
曲
率
半径
Ｒｇ
を
上述
の
（
９
）
式
より
算出
する
。
同様
に
、
眼鏡
レンズ
１８
の
曲
率
中心
（
ｓｘｇ
，
ｓｙｇ
，
ｓｚｇ
）
を
ゴースト
の
位置
より
、
ｓｘｇ
＝
〔
｛
２
＊
ｓ
１
＊
ｓ
２
＋
Ｒｇ
＊
（
ｓ
１
＋
ｓ
２
）
｝
／
（
２
＊
ｓ
２
＊
ｓ
３
）
〕
＊
（
ｘｇ
０
−
ｘｓ
）
＊
ｐｉｔｃｈ
…
…
…
…
（
１０
）
ｓｙｇ
＝
｛
（
ｙｇ
０
−
ｙｓ
）
／
（
ｘｇ
０
−
ｘｓ
）
｝
＊
ｓｘｇ
−
（
Ｒｇ
＊
ｓｙｉ
）
／
（
２
＊
ｓ
２
）
…
…
…
…
（
１１
）
ｓｚｇ
＝
ｓ
２
＋
Ｒｇ
…
…
…
…
（
１２
）
と
求める
。
ここ
で
、
（
ｘｇ
０
，
ｙｇ
０
）
は
イメージセンサ
１４
上
に
形成
さ
れ
た
４
つ
の
ゴースト
の
中心
位置
（
単位
）
、
ｓｙｉ
は
照明
用
ＩＲＥＤ
の
受光
光学
系
の
光
軸
（
ｚ
軸
）
から
の
絶対
距離
（
単位
）
、
ｓ
１
，
ｓ
２
，
ｓ
３
は
前述
の
通り
である
。
眼鏡
レンズ
情報
を
検出
する
と
（
ステップ
１３９
）
、
視線
検出
を
実行
する
ため
に
照明
を
設定
する
（
ステップ
１４０
）
。
撮影
者
の
眼球
１５
へ
の
照明
を
設定
する
と
（
ステップ
１４０
）
、
ＣＰＵ
１００
は
視線
検出
を
実行
する
（
ステップ
１４１
）
。
視線
検出
の
フロー
は
図
７
と
同様
で
、
以下
同
図
を
用い
て
説明
する
。
撮影
者
の
眼球
１５
が
照明
手段
により
照明
さ
れる
と
、
眼球
１５
で
反射
し
た
赤
外光
の
一部
は
、
受光
手段
である
受光
光学
系
を
介し
て
イメージセンサ
１４
上
に
集光
する
。
イメージセンサ
１４
から
の
画像
出力
は
ＣＣＤ
読
出し
回路
１０１
において
Ａ
／
Ｄ
変換
さ
れ
、
視線
演算
手段
である
ＣＰＵ
１００
にて
画像
解析
さ
れる
。
ＣＰＵ
１００
は
眼球
の
特徴
点
である
角膜
反射
像
と
瞳孔
の
中心
位置
と
を
検出
する
と
、
前記
（
２
）
，
（
３
）
式
に
基づい
て
撮影
者
の
視線
〔
（
θ
ｘ
，
θ
ｙ
）
：
眼球
の
回転角
〕
を
算出
する
（
ステップ
２００
）
。
この
とき
、
イメージセンサ
１４
の
中心
画素
（
ｘｓ
，
ｙｓ
）
は
初期
値
が
使用
さ
れる
。
さらに
、
撮影
者
が
眼鏡
を
装着
し
てい
なけれ
ば
（
ステップ
２０１
）
、
メイン
の
フロー
に
復帰
する
（
ステップ
２０４
）
。
一方
、
撮影
者
が
眼鏡
を
装着
し
ている
場合
に
は
（
ステップ
２０１
）
、
直前
に
検出
し
た
眼鏡
レンズ
情報
から
眼鏡
レンズ
の
頂点
の
、
カメラ
の
基準
位置
、
例えば
接眼
レンズ
１１
の
射出
面
（
撮影
者
側
の
面
）
の
中心
位置
から
の
相対
変位
量
を
算出
する
。
眼鏡
レンズ
の
第
１
面
の
頂点
の
ファインダ
光
軸
から
の
変位
を
（
ｓｇｘ
，
ｓｇｙ
）
と
する
と
、
ｓｇｘ
＝
｛
（
ｓ
２
−
ｓｚｇ
１
）
／
（
ｓｚｇ
１
−
ｓｚｇ
２
）
｝
＊
（
ｓｘｇ
１
−
ｓｘｇ
２
）
＋
ｓｘｇ
１
…
…
…
（
１４
）
ｓｇｙ
＝
｛
（
ｓ
２
−
ｓｚｇ
１
）
／
（
ｓｚｇ
１
−
ｓｚｇ
２
）
｝
＊
（
ｓｙｇ
１
−
ｓｙｇ
２
）
＋
ｓｙｇ
１
…
…
…
（
１５
）
と
なる
。
ここ
で
、
（
ｓｘｇ
１
，
ｓｙｇ
１
，
ｓｚｇ
１
）
，
（
ｓｘｇ
２
，
ｓｙｇ
２
，
ｓｚｇ
２
）
は
眼鏡
レンズ
の
第
１
面
と
第
２
面
の
曲
率
中心
位置
である
。
眼鏡
レンズ
第
１
面
頂点
の
ファインダ
光
軸
から
の
変位
量
〔
＝
ｓｑｒ
（
ｓｇｘ＾
２
＋
ｓｇｙ＾
２
）
〕
が
所定
値
、
例えば
4
.
0
より
小さけれ
ば
（
ステップ
２０２
）
、
眼鏡
レンズ
による
屈折
作用
の
影響
は
小さい
ため
視線
の
補正
を
行わ
ず
に
メイン
の
ルーチン
に
復帰
する
（
ステップ
２０４
）
。
また
、
眼鏡
レンズ
第
１
面
頂点
の
ファインダ
光
軸
から
の
変位
量
〔
＝
ｓｑｒ
（
ｓｇｘ＾
２
＋
ｓｇｙ＾
２
）
〕
が
所定
値
、
例えば
4
.
0
以上
であれ
ば
（
ステップ
２０２
）
、
検出
し
た
眼鏡
レンズ
情報
から
角膜
反射
像
の
位置
と
イメージセンサ
１４
の
中心
画素
（
ｘｓ
，
ｙｓ
）
の
値
を
補正
し
た
後
、
前記
（
２
）
，
（
３
）
式
に
基づい
て
撮影
者
の
視線
（
θ
ｘ
，
θ
ｙ
）
を
算出
する
（
ステップ
２０３
）
。
角膜
反射
像
の
位置
と
イメージセンサ
１４
の
中心
画素
（
ｘｓ
，
ｙｓ
）
の
補正
方法
は
前述
の
通り
である
。
撮影
者
の
視線
を
補正
し
て
算出
する
と
（
ステップ
２０３
）
、
メイン
の
ルーチン
に
復帰
し
カメラ
の
シーケンス
を
続行
する
（
ステップ
２０４
）
。
再び
図
１０
に
戻っ
て
、
視線
検出
が
終了
する
と
（
ステップ
１４１
）
、
ＣＰＵ
１００
は
算出
し
た
視線
〔
眼球
の
回転角
（
θ
ｘ
，
θ
ｙ
）
〕
から
ファインダ
内
の
注視
点
を
算出
する
（
ステップ
１４２
）
。
ファインダ
内
注視
点
の
座標
（
ｘ
，
ｙ
）
は
、
前記
（
４
）
，
（
５
）
式
により
算出
さ
れる
。
撮影
者
が
注視
し
ている
ファインダ
内
注視
点
を
算出
する
と
（
ステップ
１４２
）
、
その
注視
点
座標
から
焦点
検出
を
行う
測距
点
の
選択
を
行う
（
ステップ
１４３
）
。
測距
点
は
注視
点
座標
から
最も
近い
測距
点
を
選択
する
こと
に
なる
。
さらに
、
ＣＰＵ
１００
は
、
ＬＥＤ
駆動
回路
１０６
に
信号
を
送信
し
て
選択
さ
れ
た
測距
点
を
ファインダ
内
に
表示
する
。
撮影
者
が
ファインダ
内
に
スーパーインポーズ
表示
さ
れ
た
測距
点
を
見
て
、
その
測距
点
が
撮影
者
の
意図
し
た
もの
と
異なる
こと
を
認識
し
て
レリーズ
釦
４１
から
手
を
離し
て
スイッチ
ＳＷ
１
を
ＯＦＦ
し
た
の
を
信号
入力
回路
１０４
を
介し
て
検知
する
と
（
ステップ
１４４
）
、
ＣＰＵ
１００
は
信号
入力
回路
１０４
を
介し
て
再度
モード
確認
を
行っ
て
（
ステップ
１３１
）
、
通常
の
撮影
モー
ド
であれ
ば
スイッチ
ＳＷ
１
が
ＯＮ
さ
れる
まで
待機
する
（
ステップ
１３４
）
。
また
、
スーパーインポーズ
表示
さ
れ
た
測距
点
を
見
て
撮影
者
が
引続き
スイッチ
ＳＷ
１
を
ＯＮ
し
続け
た
ならば
（
ステップ
１４４
）
、
次
に
ＣＰＵ
１００
は
自動
焦点
検出
回路
１０３
により
視線
情報
より
選択
さ
れ
た
測距
点
の
焦点
検出
を
実行
する
（
ステップ
１４５
）
。
そして
、
焦点
検出
が
完了
する
と
（
ステップ
１４５
）
、
実際
に
撮影
レンズ
１
の
焦点
調節
を
行う
測距
点
を
決定
する
（
ステップ
１４６
）
。
この
とき
、
カメラ
が
視線
入力
禁止
モード
に
設定
さ
れ
てい
たら
、
焦点
検出
を
行っ
た
全測
距
点
の
中
から
物体
距離
が
最も
短い
測距
点
を
、
実際
に
撮影
レンズ
１
の
焦点
調節
を
行う
測距
点
を
決定
する
。
次
に
、
視線
情報
によって
決定
し
た
測距
点
が
測距
不能
である
か否か
を
確認
し
（
ステップ
１４７
）
、
もし
測距
不能
の
場合
は
ＣＰＵ
１００
は
ＬＣＤ
駆動
回路
１０５
に
信号
を
送っ
て
ファインダ
内
ＬＣＤ
２４
の
合焦
マーク
５０
を
点滅
させ
、
測距
が
ＮＧ
（
不能
）
で
ある
こと
を
撮影
者
に
警告
する
（
ステップ
１５６
）
。
該
警告
表示
は
スイッチ
ＳＷ
１
が
離さ
れる
まで
継続
する
（
ステップ
１５７
）
。
また
、
決定
し
た
測距
点
が
測距
可能
で
あり
（
ステップ
１４７
）
、
該
測距
点
に
対応
する
撮影
レンズ
１
の
焦点
調節
状態
が
合焦
し
てい
なけれ
ば
（
ステップ
１４８
）
、
ＣＰＵ
１００
は
レンズ
焦点
調節
回路
１１０
に
信号
を
送っ
て
撮影
レンズ
１
の
合焦
レンズ
１
ａ
を
所定
量
駆動
させる
（
ステップ
１５５
）
。
レンズ
駆動
後
に
自動
焦点
検出
回路
１０３
を
介し
て
決定
し
ている
１
つ
の
測距
点
の
焦点
検出
を
再度
行い
（
ステップ
１４５
）
、
撮影
レンズ
１
が
合焦
し
ている
か否か
の
判定
を
行う
（
ステップ
１４８
）
。
撮影
レンズ
が
合焦
し
てい
た
ならば
（
ステップ
１４８
）
、
ＣＰＵ
１００
は
ＬＣＤ
駆動
回路
１０５
に
信号
を
送っ
て
ファインダ
内
ＬＣＤ
２４
の
合焦
マーク
５０
を
点灯
させる
と共に
、
ＬＥＤ
駆動
回路
１０６
に
も
信号
を
送っ
て
合焦
し
ている
測距
点
に
合焦
表示
させる
（
ステップ
１４９
）
。
この
とき
、
前記
視線
によって
選択
さ
れ
た
測距
点
の
点滅
表示
は
消灯
し
、
合焦
し
た
こと
を
撮影
者
に
認識
させる
ため
に
合
焦測
距
点
は
点灯
状態
に
設定
する
。
合焦
し
た
測距
点
が
ファインダ
内
に
表示
さ
れ
た
の
を
撮影
者
が
見
て
、
その
測距
点
が
正しく
ない
と
認識
し
て
レリーズ
釦
４１
から
手
を
離し
スイッチ
ＳＷ
１
を
ＯＦＦ
する
と
（
ステップ
１５０
）
、
ＣＰＵ
１００
は
再度
モード
確認
を
行っ
て
（
ステップ
１３１
）
、
通常
の
撮影
モード
であれ
ば
スイッチ
ＳＷ
１
が
ＯＮ
さ
れる
まで
待機
する
（
ステップ
１３４
）
。
また
、
撮影
者
が
合
焦
表示
さ
れ
た
測距
点
を
見
て
、
引続き
スイッチ
ＳＷ
１
を
ＯＮ
し
続け
た
ならば
（
ステップ
１５０
）
、
ＣＰＵ
１００
は
測光
回路
１０２
に
信号
を
送信
し
て
測光
を
行わ
せる
（
ステップ
１５１
）
。
この
とき
合焦
し
た
測距
点
を
含む
測光
領域
２１０
〜
２１３
に
重み
付け
を
行っ
た
露出
値
を
演算
する
。
さらに
、
レリーズ
釦
４１
が
押
込ま
れ
て
スイッチ
ＳＷ
２
が
ＯＮ
さ
れ
ている
かどうか
の
判定
を
行い
（
ステップ
１５２
）
、
スイッチ
ＳＷ
２
が
ＯＦＦ
状態
であれ
ば
、
再び
スイッチ
ＳＷ
１
の
状態
の
確認
を
行う
（
ステップ
１５０
）
。
また
、
スイッチ
ＳＷ
２
が
ＯＮ
さ
れ
た
ならば
、
ＣＰＵ
１００
は
シャッタ
制御
回路
１０８
，
モータ
制御
回路
１０９
，
絞り
駆動
回路
１１１
に
それぞれ
信号
を
送信
し
て
、
以下
の
シャッタレリーズ
動作
を
開始
する
。
つまり
、
先ず
モータ
Ｍ
２
に
通電
し
、
主
ミラー
２
を
アップ
させ
、
絞り
３１
を
絞り
込ん
だ
後
、
マグネット
ＭＧ
１
に
通電
し
シャッタ
４
の
先
幕
を
開放
する
。
絞り
３１
の
絞り
値
及び
シャッタ
４
の
シャッタスピード
は
、
前記
測光
回路
１０２
にて
検知
さ
れ
た
露出
値
と
フィルム
５
の
感度
から
決定
さ
れる
。
所定
の
シャッタ
秒
時
経過
後
マグネット
ＭＧ
２
に
通電
し
、
シャッタ
４
の
後
幕
を
閉じる
（
ステップ
１５３
）
。
フィルム
５
へ
の
露光
が
終了
する
と
、
モータ
Ｍ
２
に
再度
通電
し
、
ミラーダウン
，
シャッタチャージ
を
行う
とともに
モータ
Ｍ
１
に
も
通電
し
、
フィルム
の
駒
送り
を
行い
、
一連の
シャッタレリーズ
の
動作
が
終了
する
（
ステップ
１５４
）
。
カメラ
の
シャッタレリーズ
及び
給送
動作
が
終了
する
と
（
ステップ
１５４
）
、
ＣＰＵ
１００
は
再度
モード
確認
を
行っ
て
（
ステップ
１３１
）
、
通常
の
撮影
モード
であれ
ば
スイッチ
ＳＷ
１
が
ＯＮ
さ
れる
まで
待機
する
（
ステップ
１３４
）
。
以上
の
各
実施
例
に
よれ
ば
、
眼球
像
の
解析
する
こと
により
観察
者
が
眼鏡
を
装着
し
ている
か否か
を
検知
し
、
観察
者
が
眼鏡
を
装着
し
ていれ
ば
、
前記
眼球
像
中
の
ゴースト
の
重心
より
眼鏡
の
曲
率
半径
、
つまり
眼鏡
の
レンズ
情報
を
検出
し
、
この
眼鏡
レンズ
情報
に
基づい
て
観察
者
の
視線
を
補正
演算
する
よう
に
し
ている
ため
、
精度
の
高い
視線
検出
が
達成
で
できる
とともに
、
裸眼
の
観察
者
に
対し
ても
眼鏡
を
装着
し
た
観察
者
に
対し
ても
同等
の
視線
入力
機能
を
提供
できる
効果
が
ある
。
（
発明
と
実施
例
の
対応
）
本
実施
例
において
、
イメージセンサ
１４
，
受光
レンズ
１２
，
ＣＣＤ
読
出し
回路
１０１
が
本
発明
の
受光
手段
に
相当
し
、
ＣＰＵ
１００
が
本
発明
の
視線
検出
手段
、
眼鏡
レンズ
情報
検出
手段
に
相当
し
、
ＥＥＰＲＯＭ
１００
ａ
が
記憶
手段
に
相当
し
、
ＩＲＥＤ
１３
ａ
，
１３
ｂ
，
１３
ｅ
，
１３
ｆ
が
裸眼
観察
者
用
の
、
１３
ｃ
，
１３
ｄ
，
１３
ｇ
，
１３
ｈ
が
眼鏡
観察
者
用
の
本
発明
の
照明
手段
に
相当
する
。
以上
が
実施
例
の
各
構成
と
本
発明
の
各
構成
の
対応
関係
である
が
、
本
発明
は
、
これ
ら
実施
例
の
構成
に
限定
さ
れる
もの
ではなく
、
請求
項
で
示し
た
機能
、
又は
実施
例
が
もつ
機能
が
達成
できる
構成
であれ
ば
どの
よう
な
もの
であっ
ても
よい
こと
は
言う
まで
も
ない
。
（
変形
例
）
本
実施
例
では
裸眼
観察
用
の
光源
と
眼鏡
観察
者
用
の
光源
を
それぞれ
４
個
備え
た
場合
を
例示
し
ている
が
、
少なくとも
２
個づつ
備
え
ていれ
ば
良い
。
この
場合
は
、
眼鏡
レンズ
情報
検出
時
に
は
、
眼鏡
観察
者
用
と
裸眼
観察
者
用
の
それぞれ
を
用いる
こと
に
なる
。
勿論
、
眼鏡
レンズ
情報
検出
時
に
は
、
裸眼
観察
者
用
の
光源
を
３
個
以上
備え
、
該
光源
のみ
を
用いる
方
が
精度
の
良い
眼鏡
レンズ
情報
を
検出
する
こと
が
できる
こと
は
言う
まで
も
ない
。
また
、
第
１
の
実施
例
では
、
眼鏡
を
装着
し
ている
観察
者
に
対する
補正
（
眼球
像
の
歪む
補正
）
は
、
眼鏡
レンズ
の
曲
率
半径
のみ
を
用いる
用
に
し
ている
が
、
曲
率
中心
位置
の
情報
を
も
用いる
方
が
より
好ましい
もの
である
。
一方
、
第
２
の
実施
例
では
、
眼鏡
を
装着
し
ている
観察
者
に
対する
補正
は
、
眼鏡
レンズ
の
曲
率
半径
と
曲
率
中心
位置
の
両方
を
用いる
よう
に
し
ている
が
、
少なくとも
曲
率
半径
を
用い
ても
、
従来
に
比べ
て
はるか
に
適正
な
視線
入力
位置
の
検出
が
可能
と
なる
。
又
、
本
実施
例
では
、
眼鏡
レンズ
情報
は
演算
により
算出
する
よう
に
し
ている
が
、
これ
に
限定
さ
れる
もの
ではなく
、
例えば
外部
より
眼鏡
レンズ
情報
（
曲
率
半径
や
曲
率
中心
位置
）
を
入力
し
、
これ
により
視線
を
補正
する
よう
な
構成
の
もの
であっ
て
も
良い
。
本
発明
は
、
一眼
レフカメラ
，
レンズシャッタカメラ
，
ビデオカメラ
等
の
カメラ
に
適用
し
た
場合
を
述べ
ている
が
、
その他
の
光学
機器
や
他の
装置
、
更に
は
構成
ユニット
と
し
ても
適用
する
こと
が
できる
もの
である
。
更に
、
本
発明
は
、
以上
の
各
実施
例
、
又は
それら
の
技術
を
適当
に
組み合わせ
た
構成
に
し
ても
よい
。
以上
説明
し
た
よう
に
、
請求
項
１
又は
１５
記載
の
本
発明
に
よれ
ば
、
眼鏡
の
レンズ
情報
を
検出
する
眼鏡
レンズ
情報
検出
手段
と
、
検出
さ
れ
た
眼鏡
レンズ
情報
を
記憶
する
記憶
手段
と
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
受光
手段
にて
得
られ
た
眼球
像
データ
と
前記
記憶
手段
に
記憶
さ
れ
た
眼鏡
レンズ
情報
から
観察
者
の
視線
を
演算
する
視線
演算
手段
を
備え
、
一度
眼鏡
レンズ
情報
を
検出
し
た
後
は
記憶
手段
に
記憶
し
ておき
、
必要
に
応じ
て
前記
記憶
手段
より
眼鏡
レンズ
情報
を
読出
し
、
該
眼
鏡
レンズ
情報
と
受光
手段
にて
得
られ
た
眼球
像
データ
と
から
、
観察
者
の
視線
を
算出
する
よう
に
し
ている
。
また
、
請求
項
８
又は
１５
記載
の
本
発明
に
よれ
ば
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
眼鏡
の
レンズ
情報
を
検出
する
眼鏡
レンズ
情報
検出
手段
と
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
受光
手段
にて
得
られ
た
眼球
像
データ
と
前記
眼鏡
レンズ
情報
検出
手段
にて
得
られ
た
眼鏡
レンズ
情報
から
観察
者
の
視線
を
検出
する
視線
検出
手段
と
を
備え
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
毎回
眼鏡
レンズ
情報
を
検出
し
、
検出
し
た
眼鏡
レンズ
情報
と
受光
手段
にて
得
られ
た
眼球
像
データ
と
から
、
観察
者
の
視線
を
検出
する
よう
に
し
ている
。
また
、
請求
項
１４
又は
１５
記載
の
本
発明
は
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
眼鏡
レンズ
の
曲
率
半径
を
用い
て
、
受光
手段
にて
得
られ
た
眼球
像
データ
の
歪
を
補正
し
て
視線
を
検出
する
視線
検出
手段
と
を
備え
、
観察
者
が
眼鏡
を
装着
し
ている
場合
は
、
受光
手段
にて
得
られ
た
眼球
像
データ
を
、
眼鏡
レンズ
の
曲
率
半径
により
補正
する
よう
に
し
ている
。
よって
、
視線
入力
精度
を
高める
こと
が
でき
、
しかも
、
裸眼
の
観察
者
と
眼鏡
を
装着
し
た
観察
者
の
何れ
に
対し
て
、
同等
の
視線
入力
を
可能
に
する
こと
が
できる
。
本
発明
の
第
１
の
実施
例
に
係る
カメラ
の
要
部
を
示す
構成
図
である
。
図
１
の
カメラ
の
上面
及び
背面
を
示す
図
である
。
図
１
の
カメラ
の
ファインダ
視野
内
を
示す
図
である
。
図
２
に
示す
モードダイヤル
の
上面
図
である
。
図
１
の
カメラ
の
電気
的
構成
を
示す
ブロック
図
である
。
本
発明
の
第
１
の
実施
例
における
カメラ
の
動作
を
示す
フローチャート
である
。
図
６
の
ステップ
１１１
にて
実行
さ
れる
視線
検出
動作
を
示す
フローチャート
である
。
カメラ
を
覗く
使用者
が
眼鏡
装着
者
であっ
た
場合
について
説明
する
為
の
図
である
。
図
６
の
ステップ
１２８
にて
実行
さ
れる
視線
キャリブレーション
動作
を
示す
フローチャート
である
。
本
発明
の
第
２
の
実施
例
における
カメラ
の
動作
を
示す
フローチャート
である
。
一般的
な
視線
検出
原理
について
説明
する
為
の
図
である
。
眼球
像
と
該
眼球
像
を
光電
変換
し
た
際
の
出力
強度
分布
について
説明
する
為
の
図
である
。
１１
接眼
レンズ
１２
受光
レンズ
１３
ａ
〜
１３
ｈ
ＩＲＥＤ
１４
イメージセンサ
１８
眼鏡
レンズ
１００
ＣＰＵ
１００
ａ
ＥＥＰＲＯＭ
１０１
ＣＣＤ
読出
し
回路
１０４
信号
入力
回路
１０６
ＩＲＥＤ
駆動
回路
